% \begin{}

% Report document structure %
% \part{}, \chapter{}, 
% \section{}, \subsection{}, \subsubsection{}, 
% \paragraph{}, \subparagraph{}.
\documentclass{report}

% Document Packages %
%%%%%%%%%%%%%%%%%%%%%
\usepackage[spanish]{babel}
\usepackage[inline]{enumitem}

% LaTeX Packages %
%%%%%%%%%%%%%%%%%%
\usepackage{etoolbox}

% Mathematics Packages %
%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bbm}
\usepackage{mathrsfs}
\usepackage{tikz-cd}

% Text Abreviation %
%%%%%%%%%%%%%%%%%%%%
\newcommand{\ito}{Itô}
\newcommand{\morters}{Mörters}
\newcommand{\cadlag}{càdlàg}

% Mathematics Notation %
%%%%%%%%%%%%%%%%%%%%%%%%
% Intervals \begin{}
  \newcommand{\leftOpenInterval}{\left]}
  \newcommand{\rightOpenInterval}{\right[}
  \newcommand{\leftClosedInterval}{\left[}
  \newcommand{\rightClosedInterval}{\right]}
  \newcommand{\interval}[3]{%
    \ifstrequal{#1}{oo}{%
      \leftOpenInterval #2, #3 \rightOpenInterval%
    }{%
      \ifstrequal{#1}{co}{%
        \leftClosedInterval #2, #3 \rightOpenInterval%
      }{%
        \ifstrequal{#1}{oc}{
          \leftOpenInterval #2, #3 \rightClosedInterval%
        }{%
          \ifstrequal{#1}{cc}{
            \leftClosedInterval #2, #3 \rightClosedInterval
          }{%
          }%
        }%
      }%
    }%
  }
% \end{}
\newcommand{\restrict}[2]{\left.#1\right|_{#2}}
\newcommand{\characteristic}{\mathbbm{1}}
\newcommand{\prob}{\mathbb{P}}
\newcommand{\events}{\mathcal{F}}
\newcommand{\eventspp}{\events^+}
\newcommand{\borel}{\mathscr{B}}
\newcommand{\metricSpace}{\mathcal{M}}
\newcommand{\brownian}{B}
\newcommand{\alteredBrownian}{\widetilde{\brownian}}
\newcommand{\wiener}{W}
\newcommand{\progressiveAlgebra}{\mathscr{E}}
\newcommand{\placeholderParameter}{-}
\newcommand{\dd}{\mathop{}\!\mathrm{d}}
\newcommand{\naturalNumbers}{\mathbb{N}}
\newcommand{\realNumbers}{\mathbb{R}}
\newcommand{\complexNumbers}{\mathbb{C}}
\DeclareMathOperator{\parts}{\mathscr{P}}
\DeclareMathOperator{\image}{\textnormal{Im}}
\DeclareMathOperator{\laplacian}{\Delta}
\DeclareMathOperator{\grad}{\nabla}
\DeclareMathOperator{\Expectation}{\mathbb{E}}

% Paired Delimiters %
%%%%%%%%%%%%%%%%%%%%%
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\|}{\|}
\DeclarePairedDelimiter{\ang}{\langle}{\rangle}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}

% Theorem environments %
%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Teorema}
\newtheorem{proposition}{Proposición}
\newtheorem{lemma}{Lema}
\newtheorem{corollary}{Corolario}
\newtheorem{property}{Propiedad}
\theoremstyle{remark}
\newtheorem{remark}{Observación}
\theoremstyle{definition}
\newtheorem{definition}{Definición}
\newtheorem{example}{Ejemplo}

\title{Estudio sobre la invarianza conforme del movimiento Browniano planar}
\author{Pablo Brianese}

% \end{}

\begin{document}
\maketitle

% \begin{}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 200           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Integrales estocásticas con respecto al movimiento Browniano}

Consideramos el movimiento Browniano en dimensión uno \(\{\brownian(t) : t \geq 0\}\) como una función continua.
Desafortunadamente, las instancias del movimiento Browniano no son lo suficientemente regulares
\footnote{Las funciones con respecto a las cuales podemos integrar son las llamadas de \emph{variación acotada}.
Una de sus propiedades es ser derivables en casi todo punto de su dominio.
Por su lado, las instancias del movimiento Browniano son, casi seguramente, derivables en ningún punto de su dominio.}
como para definir integrales de la forma \(\int_0^t f(s) \dd \brownian(s)\) instancia a instancia.
Sin embargo, existe una via de escape para este dilema, si estamos dispuestos a usar nociones más débiles de límite soportadas en el hecho que los movimientos Brownianos son funciones \emph{aleatorias}.
Esta es la idea de la \emph{integración estocástica}.

Antes de explicar el procedimiento, debemos estudiar algo de teoría de la medida sobre una clase de integrandos razonable que encontraremos en los \emph{procesos progresivamente medibles}.

\section{Procesos progresivamente medibles}
% Miré el libro de schreve. no describe la matemática de los procesos progresivamente medibles.
% Tengo que mirar el artículo chung1965.pdf
% También podrían ser útiles los libros de Meyer y Dellacherie

% Book: Probability and potential %
% Authors: Paul Andre Meyer       %
% Page number: 85                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% La afirmación recíproca al teorema 49 de este libro es cierta?

% Measurability of hitting times
Haremos uso sistemático de un isomorfismo
(vago, no formal) que existe entre una visión dinámica y otra estática%
\footnote{algo así como el punto de vista del filósofo griego Parménides de Elea sobre los procesos estocásticos.}
de los procesos estocásticos.
Concretamente, en un espacio de probabilidad \((\Omega, \events, \prob)\) filtrado por \((\events(t) : t \geq 0)\), un proceso estocástico adaptado es una familia de variables aleatorias \(\{X(t) : t \geq 0\}\)
Esta familia puede ser considerada como una función \(X\) dada por \(X(t, \omega) = X(t)(\omega)\) definida en el producto cartesiano \(\interval{co}{0}{\infty} \times \Omega\).
Recíprocamente, dada una función \(X\) definida en \(\interval{co}{0}{\infty} \times \Omega\), denotamos por \(X(t)\) la aplicación parcial \(\omega \mapsto X(t, \omega)\), e \emph{identificamos} la función \(X\) con la familia de aplicaciones parciales \(\{X(t)\}\).
Esto permite decir, por ejemplo, que la función \(X\) \emph{es un proceso} si la familia \(\{X(t)\}\) lo es.

Con este isomorfismo en mente, hablaremos simplemente de \emph{un proceso estocástico \(X\)} pensando que se trata de una función \(\interval{co}{0}{\infty} \times \Omega \rightarrow \realNumbers\) y supondremos la existencia del espacio de probabilidad \((\Omega, \events, \prob)\) junto con su filtración \((\events(t) : t \geq 0)\).
Además, usaremos la notación \(E = \interval{co}{0}{\infty} \times \Omega\) porque este objeto resulta ubicuo.

% Creo que esta sigma álgebra es la misma de la que hablan en la siguiente referencia,
% y que da lugar a unos procesos llamados 'predecibles'

% Book: Brownian motion and martingales in analysis %
% Authors: Richard Durrett                          %
% Page number: 60                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{definition}
  Un proceso estocástico \(X\) es llamado \emph{progresivamente medible} si para todo \(t \geq 0\) la aplicación restringida \(X : \interval{cc}{0}{t} \times \Omega \rightarrow \realNumbers\) es medible con respecto a la \(\sigma\)--álgebra \(\borel([0, t]) \otimes \events(t)\).
\end{definition}

En lo que sigue escribiremos \(E_t = \interval{cc}{0}{t} \times \Omega\), para cada \(t \geq 0\), al referirnos a estos subconjuntos destacados de \(E\).

\begin{lemma}
  Todo proceso progresivamente medible está adaptado a la filtración de su espacio de probabilidad.
\end{lemma}

% Book: Measure Theory
% Author: Paul Halmos
% Theme: Product mesure spaces, and sections

\begin{proof}
  Sea \(X\) un proceso estocástico.
  Fijemos un instante \(t \geq 0\) cualquiera, y supongamos que la restricción de \(X : E \rightarrow \realNumbers\) al conjunto \(E_t\) es \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\)--medible.
  Para probar que \(X(t)\) es \(\events(t)\)--medible, consideramos un boreliano \(B \in \borel(\realNumbers)\) arbitrario.
  Sabemos, por hipótesis, que la preimagen \(R = \{(s, \omega) \in E_t : X(s, \omega) \in B\}\) es \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\)--medible.
  Escribiendo la preimagen de \(B\) por la función  \(X(t) : \Omega \rightarrow \realNumbers\) como \(S = \{\omega \in \Omega : X(t, \omega) \in B\}\) se aprecia que \(S\) es la \(\Omega\)--sección en \(t\) de \(R\).
  Es decir, la identidad \(S = \{\omega \in \Omega : (t, \omega) \in R\}\).
  Luego \(S\) resulta \(\events(t)\)--medible.
\end{proof}

\begin{example}
  Los procesos estocásticos constantes son progresivamente medibles.
  En efecto, esto es una consecuencia de la medibilidad de las funciones constantes.
  Un proceso constante \(X\), al ser restringido a un conjunto \(E_t\) también resulta constante y por tanto medible según \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\), cualquiera sea \(t \geq 0\).
\end{example}

\begin{example}
  Cada funcion borel medible \(f : \interval{co}{0}{\infty} \rightarrow \realNumbers\) da lugar a un proceso progresivamente medible definido como \(X(t, \omega) = f(t)\) \((\forall (t, \omega) \in E)\).
  Sucede porque hay un diagrama conmutativo 
  \newcommand{\measureableFunctions}{\mathcal{M}}
  \begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    \measureableFunctions(\borel(\interval{co}{0}{\infty}))
    \arrow[rr, hook] \arrow[d, two heads]
    \&\& \realNumbers^{\interval{co}{0}{\infty} \times \Omega}
    \arrow[d, two heads] 
    \\
    \measureableFunctions(\borel(\interval{cc}{0}{t}))
    \arrow[r, hook]
    \&\measureableFunctions(\borel(\interval{cc}{0}{t}) \otimes \events(t))
    \arrow{r}{\subset}
    \& \realNumbers^{\interval{cc}{0}{t} \times \Omega}
  \end{tikzcd}
  \end{equation}
  donde las flechas \(\hookrightarrow\) son extensiones triviales que añaden una variable muda, y las flechas \(\twoheadrightarrow\) son restricciones del dominio.
\end{example}

\begin{theorem}
  \label{theorem:instacesOfProgressivelyMeasurableProcessesAreBorelFunctions}
  Las instacias de un proceso progresivamente medible son funciones borel.
\end{theorem}
\begin{proof}
  Sea \(X\) un proceso progresivamente medible.
  Fijemos un evento \(\omega \in \Omega\) y condideremos la función \(f(t) = X(t, \omega)\), \(t \geq 0\).
  Dado un boreliano \(B \in \borel(\realNumbers)\), definimos \(Y \coloneqq f^{- 1}(B)\) y probaremos \(Y \in \borel(\interval{co}{0}{\infty})\).

  Podemos estudiar esta preimagen \(Y\) de forma \emph{progresiva}.
  Para cada \(n \in \naturalNumbers\), definimos \(Y_n \coloneqq f^{- 1}(B) \cap \interval{cc}{0}{n}\).
  Por la propiedad aquimedeana de los números reales \(Y = \bigcup_{n \in \naturalNumbers} Y_n\).
  Fijamos \(n \in \naturalNumbers\) y calculamos 
  \begin{align}
    Y_n 
    = 
    \{t \in \realNumbers : f(t) \in B\} \cap \interval{cc}{0}{n}
    = 
    \{t \in \interval{cc}{0}{n} : X(t, \omega) \in B\}
  \end{align}
  Restringiendo a \(X\), obtenemos \(Y_n = \{t \in \interval{cc}{0}{n} : \restrict{X}{E_n}(t, \omega) \in B\}\).
  Esta igualdad puede leerse como 
  \begin{align}
    Y_n = \{t \in \interval{cc}{0}{n} : (t, \omega) \in \restrict{X}{E_n}^{- 1}(B)\}
  \end{align}
  En palabras, la ecuación dice que \(Y_n \subseteq \interval{cc}{0}{n}\) es una \(\interval{cc}{0}{n}\)--sección en \(\omega \in \Omega\) del conjunto \(\restrict{X}{E_n}^{- 1}(B) \subseteq E_n\).
  Pero \(\restrict{X}{E_n}^{- 1}(B)\) es \(\borel(\interval{cc}{0}{n}) \otimes \events(n)\)--medible porque \(X\) es progresivamente medible.
  Luego \(Y_n\) es \(\borel(\interval{cc}{0}{n})\)--medible.
  En conclusión, para cada \(n \in \naturalNumbers\), el conjunto \(Y_n\) pertenece a \(\borel(\interval{co}{0}{\infty})\).
  Esto demuestra que la preimagen \(Y\) es la unión numerable de boreliano, y es ella misma \(\borel(\interval{co}{0}{\infty})\)--medible.
\end{proof}

La siguiente familia de ejemplos viene en forma de lema, por su relevancia y amplitud.

\begin{lemma}
  \label{lemma:semiContinuousProcessesAreProgressivelyMeasurable}
  Todo proceso estocástico semi--continuo es progresivamente medible.
\end{lemma}
\begin{proof}
  Sea \(X\) un proceso continuo a derecha o izquierda.
  Fijemos \(t > 0\) para considerar la restricción \(X : E_t \rightarrow \realNumbers\) y su correspondiente proceso \(\{X(s) : 0 \leq s \leq t\}\).
  Debemos probar que esta restricción es medible según \(\borel([0, t]) \otimes \events(t)\).

  Para concretar tal objetivo, tomamos finitas muestras del proceso restringido a intervalos regulares de tiempo.
  Propagando las muestras al pasado aproximaremos los procesos continuos a derecha, y propagándolas al futuro aproximamos los procesos continuos a izquierda.
  De este modo, para cada entero positivo \(n\) obtenemos nuevos procesos estocásticos
  \newcommand{\backPropagation}[1]{\overline{#1}}
  \newcommand{\forwardPropagation}[1]{\underline{#1}}
  \begin{align}
    &\left\{ \backPropagation{X}_n(s) : 0 \leq s \leq t \right\}
    &&
    \backPropagation{X}_n(s)
    =
    \left\{
      \begin{aligned}
        &X(0) 
          &&\text{para } 
            s = 0
          \\
        &X(t_{k + 1})
          &&\text{para }
            t_k < s \leq t_{k + 1}
      \end{aligned}
    \right.
    \\
    &\left\{ \forwardPropagation{X}_n(s) : 0 \leq s \leq t \right\}
    &&
    \forwardPropagation{X}_n(s)
    =
    \left\{
      \begin{aligned}
        &X(t_k)
          &&\text{para }
            t_k \leq s < t_{k + 1}
        \\
        &X(t_{2^n}) 
          &&\text{para } 
            s = t
      \end{aligned}
    \right.
  \end{align}
  donde \(t_k = k \varepsilon\) con \(k \in \{0, 1, \dots, 2^n\}\) son los instantes de muestreo que particionan \(\interval{cc}{0}{t}\) en \(2^n\) intervalos regulares de longitud \(\varepsilon = t 2^{- n}\).
  Las aplicaciones \(\backPropagation{X}_n, \forwardPropagation{X}_n : E_t \rightarrow \realNumbers\) son medibles según \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\), porque pueden escribirse como composiciones de funciones apropiadamente medibles
  \begin{align}
    &\begin{tikzcd}
      [
        ampersand replacement=\&,
        execute at begin picture={
          \useasboundingbox (-1,-0.7) rectangle (1,1.3);
        }
      ]
      (s, \omega) 
      \arrow[r, mapsto]
        \& (\backPropagation{s}, \omega)
      \\[-2em]
      E_t
      \arrow{r}
      \arrow{rd}[swap]{\displaystyle \backPropagation{X}_n}
        \& E_t
          \arrow{d}{\displaystyle X}
      \\
        \&  \realNumbers
      \\
    \end{tikzcd}
    && \text{donde } \backPropagation{s} = \varepsilon \ceil{s / \varepsilon}
    \\\nonumber\\
    &\begin{tikzcd}
      [
        ampersand replacement=\&,
        execute at begin picture={
          \useasboundingbox (-1,-0.7) rectangle (1,1.3);
        }
      ]
      (s, \omega) 
      \arrow[r, mapsto]
        \& (\forwardPropagation{s}, \omega)
      \\[-2em]
      E_t
      \arrow{r}
      \arrow{rd}[swap]{\displaystyle \forwardPropagation{X}_n}
        \& E_t
          \arrow{d}{\displaystyle X}
      \\
        \&  \realNumbers
      \\
    \end{tikzcd}
    && \text{donde } \forwardPropagation{s} = \varepsilon \floor{s / \varepsilon}
  \end{align}
  Dado \(s \in \interval{cc}{0}{t}\), usando las desigualdades \(\backPropagation{s} \geq s \geq \forwardPropagation{s}\), y la ecuación \(\floor{\placeholderParameter} + 1 = \ceil{\placeholderParameter}\) deducimos las cotas de sobre-estimación \(0 \leq \backPropagation{s} - s \leq \varepsilon\) y de sub-estimación \(0 \leq s - \forwardPropagation{s} \leq \varepsilon\).
  Luego, hay convergencia \(\backPropagation{s} \rightarrow s\) por derecha y \(\forwardPropagation{s} \rightarrow s\) por izquierda cuando \(n \rightarrow \infty\).
  En el límite \(n \rightarrow \infty\) obtenemos convergencia puntual, la hipótesis de continuidad a derecha deduce de esto que \(\backPropagation{X}_n \rightarrow X\) y la hipótesis de continuidad a izquierda deduce de esto que \(\forwardPropagation{X}_n \rightarrow X\).
  En ambos casos \(X\) es medible según \(\borel([0, t]) \otimes \events(t)\) al igual que sus aproximaciones.

  Porque \(t > 0\) era arbitrario, se sigue que el proceso irrestricto \(X\) es progresivamente medible.
\end{proof}

Estos ejemplos son importantes y se deben derivar del lema anterior.
\begin{example}
  \label{example:basicProgressiveProcess}
  % conviene cambiar este ejemplo.
  % las variables se pueden propagar hacia el futuro pero no hacia el pasado, para generar procesos progresivamente medibles.
  Consideremos un espacio de probabilidad \((\Omega, \events, \prob)\) filtrado por \((\events(t) : t \geq 0)\).
  Tomamos un intervalo de tiempo \(\interval{co}{a}{b}\) y una variable \(\events(a)\)--medible \(A\).
  La función 
  \(X(t, \omega) = \characteristic_{\interval{co}{a}{b}}(t) \cdot A(\omega)\) definida para \((t, \omega) \in E\)
  da lugar a un proceso estocástico adaptado a \((\events(t))\)
  \begin{align}
    &X(t)
    =
    \left\{\begin{aligned}
      & 0
        && \text{si } t < a
      \\
      & A
      && \text{si } a \leq t < b
      \\
      & 0
        && \text{si } t \geq b
    \end{aligned}\right.
    && (\forall t \in \interval{co}{0}{\infty})
  \end{align}
  El cual resulta, bajo la luz del lema \ref{lemma:semiContinuousProcessesAreProgressivelyMeasurable}, progresivamente medible por ser continuo a izquierda.

  Un sub--ejemplo notable de esta familia se obtiene cuando \(A\) es la función característica de un conjunto \(F \in \events(a)\).
  En este caso \(X = \characteristic_{\interval{co}{a}{b} \times F}\) también es una función característica.
  Esta sub--familia genera la anterior mediante combinaciones lineales y límites puntuales.
\end{example}

% Hipótesis %
%%%%%%%%%%%%%
% Mi hipótesis sobre la naturaleza de los procesos progresivamente medibles es que forman la \(\sigma\)--álgebra del producto, en una categoría de espacios filtrados, entre la recta filtrada por \(\borel(t)\) y un espacio de probabilidad filtrado por \(\events(t)\).

\subsection{Conjuntos progresivamente medibles}

Usando la correspondencia estático-dinámica de los procesos llegamos a la siguiente noción. 
\begin{definition}
  Sea \((\Omega, \events, \prob)\) un espacio de probabilidad filtrado por \((\events(t) : t \geq 0)\).
  Un subconjunto \(A\) de \(E\) \emph{es progresivamente medible} con respecto a la filtración \((\events(t))\) si su función indicadora \(\characteristic_A : E \rightarrow \realNumbers\) queda identificada con un proceso progresivamente medible con respecto a esta familia.
  Usamos \(\progressiveAlgebra\) para denotar al conjunto de partes progresivamente medibles de \(E\).
\end{definition}

\begin{example}
  \label{example:progressivelyMeasurablePreimage}
  Sea \(X\) un proceso estocástico progresivamente medible.
  Dado un boreliano \(B \in \borel(\realNumbers)\), consideramos su preimagen \(A \coloneqq X^{- 1}(B)\) pensando al proceso como función \(E \rightarrow \realNumbers\).
  Entonces el conjunto \(A\) es progresivamente medible porque su función característica \(\characteristic_A\) da lugar a un proceso progresivamente medible.
\end{example}
\begin{proof}
  Fijamos un instante \(t \geq 0\) arbitrario.
  Calculamos la preimagen por la restricción de la función característica
  \begin{align}
    \restrict{\characteristic_A}{E_t}^{- 1} (1)
    =
      \{x \in E_t : x \in A\}
    =
      \{x \in E_t : X(x) \in B\}
    =
      \restrict{X}{E_t}^{- 1}(B)
  \end{align}
  y concluimos que esta es \(\borel([0, t]) \otimes \events(t)\)--medible porque \(X\) es progresivamente medible.
  Pero \(\restrict{\characteristic_A}{E_t}\) tiene la totalidad de su imagen contenida en el conjunto \(\{0, 1\}\).
  Luego esta restricción también es \(\borel([0, t]) \otimes \events(t)\)--medible.
\end{proof}

% \begin{property}
%   Un subconjunto \(A\) de \(E\) es progresivamente medible si y solo si \(A \cap E_t \in \borel([0, t]) \otimes \events(t)\) para todo \(t \geq 0\).
% \end{property}

\begin{theorem}
  Los conjuntos progresivamente medibles forman una \(\sigma\)--álgebra.
\end{theorem}
\begin{proof}
  En primer lugar, la función característica del conjunto \(E\) es \({\characteristic_E = 1}\).
  Luego \(E \in \progressiveAlgebra\), porque, como ya observamos a modo de ejemplo, todo proceso constante es progresivamente medible.
  En segundo lugar, suponer \(A \in \progressiveAlgebra\) nos permite deducir \(E \setminus A \in \progressiveAlgebra\).
  Esto se debe a que, para cada \(t \geq 0\), la función \(\restrict{\characteristic_{E \setminus A}}{E_t}\) es 0 sobre el conjunto \(A \cap E_t\) e igual a 1 sobre el conjunto \((E \setminus A) \cap E_t\), ambos medibles según la \(\sigma\)--álgebra \(\borel([0, t]) \otimes \events(t)\).
  Finalmente, consideramos una sucesión \(\{A_n \in \progressiveAlgebra : n \in \naturalNumbers\}\).
  En este caso, para cada \(t \geq 0\), la función \(\restrict{\characteristic_{\bigcap_n A_n}}{E_t}\)
  es 0 sobre el conjunto \(\bigcup_n A_n \cap E_t\) e igual a 1 sobre el conjunto \(\bigcap_n A_n \cap E_t\), ambos apropiadamente medibles.
\end{proof}


% ISSUE
\begin{theorem}
  La sigma álgebra generada por los procesos progresivamente medibles es exactamete \(\progressiveAlgebra\).
\end{theorem}
\begin{proof}
  Sea \(\progressiveAlgebra'\) la \(\sigma\)--álgebra generada por los procesos progresivamente medibles en tanto funciones \(E \rightarrow \realNumbers\).
  Consideremos un conjunto \(A \subseteq E\) arbitrario.
  Si \(A \in \progressiveAlgebra\), entonces \(\characteristic_A : E \rightarrow \realNumbers\) es un proceso progresivamente medible y la descripción \(A = \characteristic_A^{- 1}(\{1\})\) de \(A\) como preimagen del conjunto boreliano \(\{1\}\) por esta función característica nos indica que \(A \in \progressiveAlgebra'\).
  Recíprocamente, supongamos que \(A \in \progressiveAlgebra'\).
  En este caso existen un proceso progresivamente medible \(X : E \rightarrow \realNumbers\) y un boreliano \(B \in \borel(\realNumbers)\) tales que \(A = X^{- 1}(B)\).
  Así como demostramos al tratar la familia de ejemplos \ref{example:progressivelyMeasurablePreimage}, resulta \(A \in \progressiveAlgebra\). 
\end{proof}

% Book: Measure Theory   
% Authors: Paul R. Halmos
%%%%%%%%%%%%%%%%%%%%%%%%%

Que los procesos progresivamente medibles estén determinados como funciones \(\progressiveAlgebra\)--medibles \(E \rightarrow \realNumbers\) nos permite trasladar conocimiento sobre funciones medibles a estos.
Obtenemos, de forma inmediata, que 

\begin{theorem}
  \label{theorem:algebraOfProgressiveProcesses}
  Los procesos progresivamente medibles forman un álgebra real y un retículo.

  Dado un proceso progresivamente medible \(X\), su producto \(c X\) por un escalar \(c \in \realNumbers\) es un nuevo proceso progresivamente medible.
  Si \(Y\) es un segundo proceso progresivamente medible, entonces
  \begin{align}
    & X \cdot Y
    &&  X + Y
    &&  X \wedge Y
    && X \vee Y
  \end{align}
  también son procesos progresivamente medibles.
\end{theorem}

% esto es una acción de anillo?
\begin{theorem}
  Dado un proceso progresivamente medible \(X\) y una función \(f : \realNumbers \rightarrow \realNumbers\) borel medible, su composición \(f(X)\) es un nuevo proceso progresivamente medible.
\end{theorem}

\begin{theorem}
  \label{theorem:limitsOfProgressiveProcesses}
  Si \(\{X_n\}_n\) es una sucesión de procesos progresivamente medibles, entonces las funciones 
  \begin{align}
    & \inf_n X_n
    &&  \sup_n X_n
    &&  \liminf_{n \rightarrow \infty} X_n
    &&  \limsup_{n \rightarrow \infty} X_n
  \end{align}
  son procesos progresivamente medibles.

  En el sentido contrario, un proceso progresivamente medible \(X\) puede expresarse como el límite puntual de una sucesión \(\{X_n\}_n\) de procesos progresivamente medibles simples, que toman sólo finitos valores reales.
  Si suponemos \(X \geq 0\), puede asumirse que la sucesión convergente \(\{X_n\}_n\) es nonegativa y nodecreciente \(0 \leq X_1 \leq X_2 \leq \cdots\).
\end{theorem}

\subsection{Desplazamiento de procesos progresivamente medibles}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\pro}[1]{{#1}^{\sharp}}
\newcommand{\pre}[1]{{#1}^{\flat}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% EXPLICAR LOS SÍMBOLOS \(\sharp, \flat\) ACÁ, ANTES DE LAS PRUEBAS.

Se ruega paciencia, pues en la presente sección haremos una seria sobrecarga de los símbolos \(\sharp\) y \(\flat\).
Sus definiciones dependen de un desplazamiento \(h \geq 0\), por lo cual podríamos escribir \(\sharp h\) y \(\flat h\) para ser más precisos, pero con suerte no habra lugar a confusión en el texto.
Cuando tratamos escalares \(s \geq h\), definimos \(\pre{s} \coloneqq s - h\), y cuando \(s \geq 0\) definimos \(\pro{s} \coloneqq s + h\).
Lo mismo haremos con conjuntos de escalares, si \(J \subseteq \interval{co}{h}{\infty}\) definimos \(\pre{J} \coloneqq \{\pre{j} : j \in J\}\), y cuando \(I \subseteq \interval{co}{0}{\infty}\) definimos \(\pro{I} \coloneqq \{\pro{i} : i \in I\}\).
De forma similar, cuando tenemos un par \((s, \omega) \in \interval{co}{h}{\infty} \times \Omega\) definimos \(\pre{(s, \omega)} \coloneqq (\pre{s}, \omega)\), y si \((s, \omega) \in \interval{co}{0}{\infty} \times \Omega\) definimos \(\pro{(s, \omega)} \coloneqq (\pro{s}, \omega)\).
Al tratar conjuntos de pares haremos lo análogo, si \(U \subseteq \interval{co}{h}{\infty} \times \Omega\) definimos \(\pre{U} \coloneqq \{\pre{u} : u \in U\}\), y cuando \(V \subseteq \interval{co}{0}{\infty} \times \Omega\), definimos \(\pro{V} \coloneqq \{\pro{v} : v \in V\}\).

Nuestro primer lema es muy sencillo y, como la mayoría de los que le siguen, no requiere de prueba.
Sin embargo, este muestra la razón por la cual es necesario el tratamiento y el cuidado que le dedicamos al desplazamiento de conjuntos progresivamente medibles, es el punto del cual emana la complejidad.

\begin{lemma}
  \label{lemma:filtrationDelay}
  Dada una filtración \((\events(t) : t \geq 0)\) de una \(\sigma\)--álgebra, entonces \(\events(t) \subseteq \events(\pro{t})\) para todo \(t \geq 0\).
\end{lemma}

\begin{lemma}
  \label{lemma:intervalDelay}
  Si \(I \subseteq \interval{co}{0}{\infty}\) es un intervalo, entonces \(\pro{I}\) también es un intervalo.
\end{lemma}

\begin{lemma}
  \label{lemma:rectangularDelay}
  Si \(B \subseteq \interval{co}{0}{\infty}\) y \(S \subseteq \Omega\), entonces \(\pro{(B \times S)} = \pro{B} \times S\).
\end{lemma}
\begin{proof}
  Dado que \(\sharp : B \rightarrow \pro{B}\) es una biyección
  \begin{align}
    \pro{(B \times S)}
    &=
    \{\pro{(b, \omega)} : b \in B, \omega \in S\}
    \\
    &=
    \{(\pro{b}, \omega) : b \in B, \omega \in S\}
    \\
    &=
    \{(c, \omega) : c \in \pro{B}, \omega \in S\}
    \\
    &=
    \pro{B} \times S
  \end{align}
\end{proof}


\begin{lemma}
  \label{lemma:sharpSetFunction}
  Para todo \(t \geq 0\), la función de conjuntos 
  \(
    \sharp
    : 
    \parts( E_t ) 
    \rightarrow 
    \parts( \pro{E_t} ) 
  \)
  satisface
  \begin{enumerate}
    \item \(\pro{\emptyset} = \emptyset\);
    \item \(\pro{\left( \bigcup_{V \in \mathcal{V}} V \right)} = \bigcup_{V \in \mathcal{V}} \pro{V}\) para toda familia \(\mathcal{V}\) de conjuntos \(V \subseteq E_t\);
    \item \(\pro{(E_t \setminus V)} = \pro{E_t} \setminus \pro{V}\) para todo subconjunto \(V \subseteq E_t\).
  \end{enumerate}
\end{lemma}
\begin{proof}
  La razón de estas fórmulas es que \(\sharp : E_t \rightarrow \pro{E_t}\) es una biyección.
  Y esto se debe a que \(\sharp : \interval{cc}{0}{t} \rightarrow \interval{cc}{h}{t}\) es una biyección.
\end{proof}

\begin{lemma}
  \label{lemma:sigmaAlgebraDelay}
  La función de conjuntos \(\sharp : \parts(E_t) \rightarrow \parts(\pro{E_{t}})\) da lugar a una restricción \(\sharp : \borel(\interval{cc}{0}{t}) \otimes \events(t) \rightarrow \borel(\interval{cc}{h}{\pro{t}}) \otimes \events(\pro{t})\). 
\end{lemma}
\begin{proof}
  Por los límites estructurales impuestos en \ref{lemma:sharpSetFunction}, basta verificar la relación \(\pro{P} \in \borel(\interval{cc}{h}{\pro{t}}) \otimes \events(\pro{t})\) sobre unos \(P \in \borel(\interval{cc}{0}{t}) \otimes \events(t)\) que generen la \(\sigma\)--álgebra \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\).
  La familia de conjuntos \(P\) que elegimos es la de aquellos de la forma \(P = I \times F\) donde \(I \subseteq \interval{cc}{0}{t}\) es un intervalo y \(F \in \events(t)\).
  En efecto, si \(P\) es rectangular como en \ref{lemma:rectangularDelay}, se dá la identidad \(\pro{P} = \pro{I} \times F\).
  Aquí \(\pro{I} \subseteq \interval{cc}{h}{\pro{t}}\) vuelve a ser un intervalo como en \ref{lemma:intervalDelay}, y \(F\) resulta \(\events(\pro{t})\)--medible porque \(\events(t) \subseteq \events(\pro{t})\) como en \ref{lemma:filtrationDelay}.
  Por lo tanto \(\pro{P} \in \borel(\interval{cc}{h}{\pro{t}}) \otimes \events(\pro{t})\).
\end{proof}

\begin{theorem}
  \label{theorem:delayedProgressivelyMeasurableSetsArePreogressivelyMeasurable}
  Los desplazamientos hacia adelante en el tiempo de conjuntos progresivamente medibles son conjuntos progresivamente medibles. 
\end{theorem}

\begin{proof}
  Dado \(A \in \progressiveAlgebra\), consideramos su desplazamiento \(\pro{A}\) en una cantidad \(h > 0\).
  Para probar \(\pro{A} \in \progressiveAlgebra\), debemos fijar un \(t \geq 0\) arbitrario y comprobar que \(\pro{A} \cap E_t\) es \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\)--medible.
  Si \(t < h\), entonces \(\pro{A} \cap E_t = \emptyset\) pertenece a toda \(\sigma\)--álgebra.
  Debemos detenernos con cuidado en el caso no trivial \(t \geq h\).
  Calculamos
  \begin{align}
    \pro{A} \cap E_t
    &=
    \{(s, \omega) \in E_t : (s, \omega) \in \pro{A}\}
    =
    \{(s, \omega) \in E_t : (\pre{s}, \omega) \in A\}
    \\
    &=
    \{\pro{(\pre{s}, \omega)} \in E_t : (\pre{s}, \omega) \in A\}
    \\
    &=
    \{\pro{a} \in E_t : a \in A\}
    =
    \pro{\{a \in E_{\pre{t}} : a \in A\}}
    \\
    &=
    \pro{(A \cap E_{\pre{t}})}
  \end{align}
  Resulta que \(\pro{(A \cap E_{\pre{t}})} = \pro{A} \cap E_t\) es un conjunto \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\)--medible porque, como en \ref{lemma:sigmaAlgebraDelay}, es el desplazamiento de \(A \cap E_{\pre{t}}\), un conjunto \(\borel\!\left(\interval{cc}{0}{\pre{t}}\right) \otimes \events(\pre{t})\)--medible debido a la hipótesis \(A \in \progressiveAlgebra\), .
\end{proof}

\begin{corollary}
  Los desplazamientos hacia adelante en el tiempo de procesos progresivamente medibles son procesos progresivamente medibles.
\end{corollary}

\begin{proof}
  Sea \(X\) un proceso progresivamente medible y \(S_h X\), con \(h \geq 0\), su desplazamiento hacia adelante en el tiempo.
  Definimos
  \begin{align}
    S_h X (t)
    =
    \left\{\begin{aligned}
      &0 
        &&\text{si } 
        t < h
      \\
      &X(t - h) 
        &&\text{si } 
        t \geq h
    \end{aligned}\right. 
  \end{align}
  
  Sea \(B \in \borel(\realNumbers)\) un boreliano.
  Si 0 no es uno de sus elementos, entonces \(S_h X\) no toca al conjunto \(B\) antes del tiempo \(h\), y en consecuencia
  \begin{align}
    S_h X ^{- 1} (B)
    =
    \{
      (t, \omega) \in \interval{co}{h}{\infty} \times \Omega 
      : 
      S_h X (t, \omega) \in B
    \}
  \end{align}
  Siguiendo la notación de \(\sharp\) y \(\flat\), podemos calcular
  \begin{equation}
  \begin{aligned}
    \label{midProof:shiftedProcessPreimage}
    \{
      (t, \omega) \in \interval{co}{h}{\infty} \times \Omega 
      &: 
      S_h X (t, \omega) \in B
    \}
    \\
    &=
    \{
      (t, \omega) \in \interval{co}{h}{\infty} \times \Omega 
      : 
      X (t - h, \omega) \in B
    \}
    \\
    &=
    \{
      \pro{(\pre{t}, \omega)} \in \interval{co}{h}{\infty} \times \Omega 
      :
      X (\pre{t}, \omega) \in B
    \}
    \\
    &=
    \pro{
      \{
        a \in E 
        :
        X (a) \in B
      \}
    }
    \\
    &=
    \pro{X^{- 1}(B)}
  \end{aligned}
  \end{equation}
  Esta igualdad hace que \(S_h X^{- 1} (B) \in \progressiveAlgebra\), viendo el dato \(X^{- 1} (B) \in \progressiveAlgebra\) a la luz del teorema \ref{theorem:delayedProgressivelyMeasurableSetsArePreogressivelyMeasurable}.

  Seguimos tratando el caso particular \(B = \{0\}\).
  Aquí la preimagen \(S_h X ^ {- 1} (0) = \{a \in E : S_h X (a) = 0\}\) puede separarse en dos trozos. 
  Antes del instante \(h\) tenemos tal conjunto
  \(
    \{
      a \in \interval{co}{0}{h} \times \Omega 
      :
      S_h X (a) = 0
    \}
  \)
  que resulta ser igual a \(\interval{co}{0}{h} \times \Omega\), porque la definición de \(S_h X\) hace evidente que la función es nula para todo \(a \in \interval{co}{0}{h} \times \Omega\).
  Lo que sucede a partir del instante \(h\) queda escrito en el conjunto 
  \(
    \{
      a \in \interval{co}{h}{\infty} \times \Omega 
      :
      S_h X (a) = 0
    \}
  \),
  el cual puede entenderse repitiendo el cálculo \ref{midProof:shiftedProcessPreimage} paso por paso hasta llegar al resultado \(\pro{X^{- 1}(0)}\).
  El primero trozo \(\interval{co}{0}{h} \times \Omega\) es progresivamente medible porque da origen a un proceso continuo a derecha (como vimos en el lema \ref{lemma:semiContinuousProcessesAreProgressivelyMeasurable});
  por su parte, el desplazamiento \(\pro{X^{- 1}(0)}\) es progresivamente medible en virtud del teorema \ref{theorem:delayedProgressivelyMeasurableSetsArePreogressivelyMeasurable}.
  A su vez, la unión de estos conjuntos, \(S_h X^{- 1} (0)\), es progresivamente medible porque \(\progressiveAlgebra\) es una \(\sigma\)--álgebra.
   
  Finalmente, la demostración de progresividad en el caso de los borelianos \(B \in \borel(\realNumbers)\) que tienen a 0 entre sus elementos puede reducirse a los dos casos anteriores tras observar \(S_h X ^{- 1} (B) = S_h X ^{- 1} (B {\setminus} 0) \cup S_h X ^{- 1} (0)\).
\end{proof}



























\subsection{Acumulaciones de procesos progresivamente medibles}

Hemos probado (en el teorema \ref{theorem:instacesOfProgressivelyMeasurableProcessesAreBorelFunctions}) que las trayectorias de un proceso progresivamente medible son funciones borel.
Pues bien ¿qué sucedería si estas además fueran integrables?
Se dá que esta integral vuelve a ser un proceso progresivamente medible.

\begin{theorem}[Acumulación]
  \label{theorem:integralOfLocallyIntegrableProgressivelyMeasurableProcess}
  Si \(X\) es un proceso progresivamente medible con instacias localmente integrables, entonces la fórmula
  \begin{align}
    \int_0^t X(u) \dd u
  \end{align}
  describe un proceso estocástico continuo en la variable \(t\).
\end{theorem}
\begin{proof}
  Sea \(X\) un proceso progresivamente medible con trayectorias localmente integrables.
  Proponemos la definición
  \begin{align}
    & Y(t, \omega) \coloneqq \int_0^t X(u, \omega) \dd u
    && \forall (t, \omega) \in E
  \end{align}
  Afirmamos que esta es una función, continua con respecto a la variable \(t\), y, en virtud del lema \ref{lemma:semiContinuousProcessesAreProgressivelyMeasurable}, un proceso progresivamente medible.
  
  Para demostrarlo fijemos una instancia con \(\omega \in \Omega\), y concentremonos en la función dada por \(f(t) = X(t, \omega)\).
  Esta instacia \(f\) resulta ser de borel, y es localmente integrable por hipótesis, esto nos garantiza la existencia de la integral \(F(t) = \int_0^t f(u) \dd u\).
  Consideremos un instante \(t\), y una sucesión arbitraria \(\{s_k\}_k\) de números nonegativos \(s_0 = 0\), nodecreciente \(s_k \leq s_{k + 1}\), que converge a su supremo \(t\).
  La integrabilidad local de \(f\) nos permite calcular, para cada \(k \in \naturalNumbers\), usando series e integrales convergentes
  \begin{align}
    \int_0^t f(u) \dd u
    =
    \sum_{h = 0}^{\infty} \int_{s_h}^{s_{h + 1}} f(u) \dd u
    =
    \int_0^{s_k} f(u) \dd u + \sum_{h = k}^{\infty} \int_{s_h}^{s_{h + 1}} f(u) \dd u
  \end{align}
  y deducir que \(F(s_k) \rightarrow F(t)\) cuando \(k \rightarrow \infty\).
  Supongamos ahora que la sucesión es nocreciente, es decir \(s_k \geq s_{k + 1}\) para todo \(k \in \naturalNumbers\) y eliminemos la convención \(s_0 = 0\).
  En este caso, para todo \(k \in \naturalNumbers\), la diferencia \(F(s_k) - F(t)\) puede escribirse como la cola de una serie convergente
  \begin{align}
    \int\limits_0^{s_k} f(u) \dd u - \int\limits_0^t f(u) \dd u
    =
    \sum_{h = k}^{\infty} \: \int\limits_{s_{h + 1}}^{s_h} f(u) \dd u
    =
    \int\limits_{t}^{s_1} f(u) \dd u - \sum_{h = 1}^{k - 1} \: \int\limits_{s_{h + 1}}^{s_h} f(u) \dd u
  \end{align}
  Luego \(F(s_k) \rightarrow F(t)\) cuando \(k \rightarrow \infty\).
  Dado que la sucesión monótona (nodecreciente o nocreciente) \(\{s_k\}_k\) era arbitraria, se sigue que \(F(s) \rightarrow F(t)\) cuando \(s \rightarrow t\) por los detalles topológicos de la recta real.

  La existencia de las funciones \(F\) implica la buena definición de \(Y\), y la continuida de las mismas prueba que la función es un proceso progresivamente medible con trayectorias continuas.
\end{proof}

Continuando con las acumulaciones de procesos progresivamente medibles llegamos a
\begin{corollary}
  \label{corollary:windowedIntegralOfProgressivelyMeasurableProcess}
  Si \(X\) es un proceso progresivamente medible con instancias localmente integrables, entonces la fórmula
  \begin{align}
    \int_{t - h}^t X(u) \dd u
  \end{align}
  donde \(h \geq 0\) es un desplazamiento, da lugar a un proceso continuo.
  Porque \(X\) no está definido para valores de \(u\) negativos, interpretamos que \(X(u) = 0\) si \(u < 0\).
\end{corollary}
\begin{proof}
  Una correcta interpretación de la fórmula, teniendo en mente la interpretación \(X(u) = 0\) cuando \(u < 0\), sería
  \begin{align}
    \int_{t- h}^t X(u) \dd u
    =
    \int_0^t X(u) \dd u
    -
    \int_0^{t - h} X(u) \dd u
    =
    I(t) - S_h I (t)
  \end{align}
  donde \(I(t) = \int_0^t X(u) \dd u\) \((\forall t \geq 0)\).
  Sabemos que \(I\) es un proceso continuo por el teorema \ref{theorem:integralOfLocallyIntegrableProgressivelyMeasurableProcess}.
  Adicionalmente, se sigue de esto que su corrimiento \(S_h I\) resulta continuo porque \(I(0) = 0\). 
\end{proof}

  Una modificación muy simple del previo corolario \ref{corollary:windowedIntegralOfProgressivelyMeasurableProcess} es la media móvil de un proceso estocástico

\begin{corollary}[Media movil]
  \label{corollary:movingAverageProgressivelyMeasurableProcess}
  Si \(X\) es un proceso progresivamente medible con instacias localmente integrables, entonces la fórmula
  \begin{align}
    \frac{1}{h} \int_{t - h}^t X(u) \dd u
  \end{align}
  donde \(h > 0\) es un desplazamiento, da lugar a un proceso continuo.
\end{corollary}

\subsection{Aproximación de procesos progresivamente medibles}

Recordemos como en el ejemplo \ref{example:basicProgressiveProcess} vimos que \(Y(s, \omega) \coloneqq \characteristic_{\interval{co}{0}{t}}(s)\) define un proceso progresivamente medible, y como explicamos que los procesos progresivamente medibles estan cerrados bajo producto en el teorema \(\ref{theorem:algebraOfProgressiveProcesses}\).

\begin{lemma}
  Todo proceso progresivamente medible es el límite puntual de otros eventualmente nulos.
\end{lemma}
\begin{proof}
  Sea \(X\) un proceso estocástico progresivamente medible.
  Dado un instante \(t \geq 0\), consideramos una modificación eventualmente nula del proceso, definida como el producto de procesos progresivamente medibles \(N_t X (s, \omega) \coloneqq X(s, \omega) \cdot \characteristic_{[0, t[} (s)\), para todo \(s \geq 0\), \(\omega \in \Omega\).
  Claramente \(N_t X \rightarrow X\) puntualmente cuando \(t \rightarrow \infty\).
\end{proof}

Teniendo en cuenta que los procesos constantes son progresivamente medibles, y que esta última familia está cerrada por máximos y mínimos, probamos
\begin{lemma}
  Todo proceso progresivamente medible es el límite puntual de otros uniformemente acotados.
\end{lemma}
\begin{proof}
  Sea \(X\) un proceso estocástico progresivamente medible.
  Dada una cota \(M \geq 0\), consideramos una modificación acotada del proceso \(X\), definida operando con máximos y mínimos sobre procesos progresivamente medibles como \(C_M X \coloneqq (X \vee - M) \wedge M\).
  Claramente \(C_M X \rightarrow X\) puntualmente cuando \(M \rightarrow \infty\).
\end{proof}

\begin{lemma}
  Todo proceso progresivamente medible, eventualmente nulo, y uniformemente acotado, es en casi todas partes el límite de otros procesos continuos en casi todas partes. 
\end{lemma}
\begin{proof}
  Sea \(X\) un proceso estocástico progresivamente medible, eventualmente nulo y uniformemente acotado.
  Dada una ventana \(h > 0\), y utilizando la convención \(X(t, \omega) = 0\) para \(t < 0\), definimos \(E_h X (s, \omega) = \frac{1}{h} \int_{s - h}^{s} X(t, \omega) \dd t\) para todo \(s \geq 0\), \(\omega \in \Omega\).
  Porque el promedio que tomamos solo considera los valores pasados, \(E_h X\) es nuevamente progresivamente medible.
  
\end{proof}

\begin{lemma}
  Para cada proceso progresivamente medible, existe una secuencia de procesos de salto progresivamente medibles que convergen al primero.
\end{lemma}
\begin{proof}
  Aproximamos el proceso progresivamente medible sucesivamente por
  \begin{itemize}
    \item un proceso progresivamente medible eventualmente nulo,
    \item un proceso progresivamente medible eventualmente nulo y acotado uniformemente,
    \item  un proceso progresivamente medible eventualmente nulo y acotado uniformemente casi seguramente continuo,
    \item y finalmente, por un proceso de saltos progresivamente medible.
  \end{itemize}
  
  En \emph{primer} notamos que los procesos eventualmente nulos (esto es, nulos para tiempos \(s\) lo suficientemente grandes) son densos en \(\mathcal{H}\).
  Dado \(H \in \mathcal{H}\), definimos el corte en un tiempo fijo \(n > 0\) como \(H_n(s, \omega) = H(s, \omega) \characteristic_{[0, n]}(s)\).
  Claramente \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).

  % Creo que los autores suponen que H \geq 0 pero nunca hicieron explícita esa hipótesis
  En \emph{segundo} lugar, notamos que los procesos uniformemente acotados son densos entre los elementos de \(\mathcal{H}\) eventualmente nulos.
  Dado \(H \in \mathcal{H}\) nulo a partir de tiempo \(s_* > 0\) en adelante, lo aproximamos truncando sus valores.
  Para \(n \in \naturalNumbers\) definimos \(H_n\) como \(H_n(s, \omega) = -n \vee H(s, \omega) \wedge n\).
  Claramente \(H_n\) es progresivamente medible y \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).
\end{proof}


\begin{theorem}
  Los conjuntos progresivamente medibles pertenecen a la \(\sigma\)--álgebra producto.
\end{theorem}

La consecuencia más importante de este teorema es el teorema de convergencia dominada para los procesos progresivamente medibles.
% tengo que probar que prog está contenida en la sigma algebra producto, para poder dotarla de una medida decente

\section{Construcción de la integral}
% Evitamos una referencia a la integral estocástica de Paley--Wiener
Denotamos por \((\Omega, \events, \prob)\) al espacio de probabilidad en que nuestro movimiento Browniano \(\{\brownian(t) : t \geq 0\}\) está definido y supongamos que \((\events(t) : t \geq 0)\) es una filtración a la que el movimiento Browniano está adaptado tal que la propiedad fuerte de Markov se verifica.
% Propiedad fuerte de Markov? Se verifica? Podría no verificarse en una filtración extraña?

La construcción de las integrales es casi directa.
Comenzamos integrando procesos de salto progresivamente medibles \(\{H(t, \omega) : t \geq 0, \omega \in \Omega\}\) de la forma
\begin{align}
  H(t, \omega)
  =
  \sum_{i = 1}^k A_i(\omega)\characteristic_{\left] t_i, t_{i + 1} \right]}(t)
\end{align}
para tiempos \(0 \leq t_1 \leq \cdots \leq t_{k + 1}\), y variables \(\events(t_i)\)--medibles \(A_i\).
En completa analogía con el caso clásico definimos su integral como
\begin{align}
  \int_0^{\infty} H(s) \dd \brownian(s)
  \coloneqq
  \sum_{i = 1}^k A_i (\brownian(t_{i + 1}) - \brownian(t_i))
\end{align}
Ahora sea \(H\) un proceso progresivamente medible que satisface \(\Expectation \int_0^{\infty} H(s)^2 \dd s < \infty\).
Supongamos que \(H\) puede ser aproximado mediante una familia de procesos de salto progresivamente medibles \(H_n\), \(n \geq 1\), entonces definimos
\begin{align}
  \int_0^\infty H(s) \dd \brownian(s)
  \coloneqq
  \lim_{n \rightarrow \infty} \int_0^\infty H_n(s) \dd \brownian(s)
  \label{definition:stochasticIntegralWithRespectToBrownianMotion_norm2Approximation}
\end{align}
A esta altura nos concentramos en la convergencia \(L^2\), aunque finalmente veremos que la integral estocástica también puede ser construída como un límite casi seguro, ver ???.
% Referencia a Remark 7.7

Para la estudiar las aproximaciones por procesos de salto progresivamente medibles, consideramos la familia \(\mathcal{H}\) formada por los procesos progresivamente medibles cuya norma 2 es finita en el sentido que
% No entiendo por qué H(s) es lebesgue medible, y por qué puedo tomar esperanza de la integral.
\begin{align}
  \norm{H}_2^2
  \coloneqq
  \Expectation \int_0^{\infty} H(s)^2 \dd s
  <
  \infty
\end{align}

Lo que tenemos que demostrar ahora para completar la definición es que,
\begin{enumerate}
  \item
  \label{lemma:norm2Approximation_densityOfStepProcesses}
  todo proceso en \(\mathcal{H}\) puede ser aproximado en norma 
  \(\norm{\placeholderParameter}_2\) 
  mediante procesos de salto progresivamente medibles;
  \item
  \label{lemma:norm2Approximation_sequenceConvergence}
  para cada secuencia de aproximación el límite en \eqref{definition:stochasticIntegralWithRespectToBrownianMotion_norm2Approximation} existe en el sentido de \(L^2\);
  \item
  \label{lemma:norm2Approximation_limitUniqueness}
  y este límite no depende de la elección de procesos de salto aproximantes.
\end{enumerate} 
Esto es lo que verificamos ahora, comenzando con el item \ref{lemma:norm2Approximation_densityOfStepProcesses}.
\begin{lemma}
  Para cada proceso \(H \in \mathcal{H}\) existe una secuencia \(\{H_n : n \in \naturalNumbers\}\) de procesos de salto progresivamente medibles tales que \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).
\end{lemma}
\begin{proof}
  Aproximamos el proceso progresivamente medible sucesivamente por
  \begin{itemize}
    \item un proceso progresivamente medible acotado,
    \item un proceso progresivamente medible acotado casi seguramente continuo,
    \item y finalmente, por un proceso de saltos progresivamente medible.
  \end{itemize}
  
  En \emph{primer} notamos que los procesos eventualmente nulos (esto es, nulos para tiempos \(s\) lo suficientemente grandes) son densos en \(\mathcal{H}\).
  Dado \(H \in \mathcal{H}\), definimos el corte en un tiempo fijo \(n > 0\) como \(H_n(s, \omega) = H(s, \omega) \characteristic_{[0, n]}(s)\).
  Claramente \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).

  % Creo que los autores suponen que H \geq 0 pero nunca hicieron explícita esa hipótesis
  En \emph{segundo} lugar, notamos que los procesos uniformemente acotados son densos entre los elementos de \(\mathcal{H}\) eventualmente nulos.
  Dado \(H \in \mathcal{H}\) nulo a partir de tiempo \(s_* > 0\) en adelante, lo aproximamos truncando sus valores.
  Para \(n \in \naturalNumbers\) definimos \(H_n\) como \(H_n(s, \omega) = -n \vee H(s, \omega) \wedge n\).
  Claramente \(H_n\) es progresivamente medible y \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).

  % estoy finado porque tengo que aplicar o convergencia dominada
  % pero no tengo claro el espacio de medida.

  Primer consecuencia de la definición de \(H_n\) 
  \(H(s) = H_n(s)\) \((\forall s \geq s_*)\) \((\forall n \in \naturalNumbers)\)

  Segunda consecuencia de la definición de \(H_n\) 
  \([\abs{H(s) - H_n(s)} \geq \delta] = [\abs{H(s)} \geq n + \delta]\) \((\forall \delta > 0)\) \((\forall s \geq 0)\) \((\forall n \in \naturalNumbers)\)

  \begin{align}
    \norm{H - H_n}_2^2
    &=
    \Expectation \int_0^{\infty} (H(s) - H_n(s))^2 \dd s
    \\
    &=
    \Expectation \int_0^{s_*} (H(s) - H_n(s))^2 \dd s
    \\
    &=
    \int_0^{s_*} \Expectation \left[ (H(s) - H_n(s))^2 \right] \dd s
    \\
    &=
    \int_0^{s_*} \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h \dd s
  \end{align}
  Definimos \(I_n(s) \coloneqq \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h\).
  \begin{align}
    I_n(s)
    &=
    \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s) - H_n(s)} > \sqrt{h} \right] \dd h
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s) - H_n(s)} > u \right] 2 u \dd u
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s)} > n + u \right] 2 u \dd u
    \\
    &=
    \int_n^{\infty} \prob \left[ \abs{H(s)} > v \right] 2 (v - n) \dd v
    \\
    &\leq
    \int_n^{\infty} \prob \left[ \abs{H(s)} > v \right] 2 v \dd v
    \\
    &=
    \int_n^{\infty} \prob \left[ H(s)^2 > v^2 \right] 2 v \dd v
    \\
    &=
    \int_{n^2}^{\infty} \prob \left[ H(s)^2 > c \right] \dd c
  \end{align}
  Entonces \(I_n(s) \leq \)
  \begin{align}
    \norm{H - H_n}_2^2
    &=
    \int_0^{s_*} 
      \int_{n^2}^{\infty} 
        \prob \left[ H(s)^2 > c \right] 
      \dd c 
    \dd s
  \end{align}
  
\end{proof}

% \end{}

\part{Invarianza conforme del movimiento Browniano planar}
% \begin{}

% Book: Brownian Motion  %
% Author: Mörters, Peres %
% Page Number: 212       %
%%%%%%%%%%%%%%%%%%%%%%%%%%
Para motivar el resultado supongamos que \(f : \complexNumbers \rightarrow \complexNumbers\) es \emph{analítica}, es decir diferenciable en el sentido complejo en todas partes, y escribamos \(f(x, y) = (u(x, y), v(x, y))\) para referirnos a su representación como función \(f : \realNumbers^2 \rightarrow \realNumbers^2\).
Entonces, por las ecuaciones de Cauchy--Riemann \(u_x = v_y\) y \(u_y = - v_x\), tenemos \(\Delta u = \Delta v = 0\).
Entonces la fórmula de \ito{} (si aplica) afirma que casi seguramente, para todo \(t \geq 0\),
\begin{align}
  f(\brownian(t))
  =
  \int_0^t f'(\brownian(s)) \dd \brownian(s)
\end{align}
donde \(\dd \brownian(s)\) es una abreviación para \(\dd (\Re \brownian(s)) + i \dd (\Im \brownian(s))\).
El lado derecho define un proceso continuo con incrementos independientes, y es al menos plausible que sean gaussianos.
Más aún, su esperanza es nula y
\begin{align}
  \Expectation \left[ \left( \int_0^t f'(\brownian(s)) \dd \brownian(s) \right)^2 \right]
  =
  \Expectation \int_0^t \abs{f'(\brownian(s))}^2 \dd s
\end{align}
sugiriendo que \(\{f(\brownian(t)) : t \geq 0\}\) es un movimiento Browniano `viajando' con la velocidad alterada
\begin{align}
  t
  \mapsto
  \int_0^t \abs{f'(\brownian(s))}^2 \dd s
\end{align}
Para pasar de esta eurística a un poderoso teorema permitimos que la función sea una aplicación analítica \(f : U \rightarrow V\) entre dominios en el plano.
Recordamos que tal aplicación es \emph{conforme} si es una biyección.

\begin{theorem}
  \label{theorem:ConformalInvarianceOfPlanarBrownianMotion}
  Sea \(U\) un dominio en el plano complejo, \(z_0 \in U\), y sea \(f : U \rightarrow V\) analítica.
  Sea \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano que comienza en \(z_0\) y
  \begin{align}
    \tau_U
    =
    \inf \{ t \geq 0 : \brownian(t) \notin U\}
  \end{align}
  su primer tiempo de salida del dominio \(U\).
  Entonces el proceso
  \(\{f(\brownian(t)) : 0 \leq t \leq \tau_U\}\)  % Este tipo de procesos deben ser los detenidos en el tiempo. O sea f(\brownian(t \wedge \tau_U)) con t \geq 0.
  es un movimiento Browniano con velocidad alterada, es decir que existe un movimiento Browniano planar \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\) tal que, para todo \(t \in \left[ 0, \tau_U \right[\),
  \begin{align}
    & f(\brownian(t)) = \alteredBrownian(\zeta(t))
    &
    & \text{donde }
    \zeta(t) = \int_0^t \abs{f'(\brownian(s))}^2 \dd s
  \end{align}
  Si, adicionalmente, \(f\) es conforme, entonces \(\zeta(\tau_U)\) es el primer tiempo de salida de \(V\) por \(\widehat{B}(t) : t \geq 0\).
\end{theorem}
\begin{remark}
  Notar que, al ser \(f\) diferenciable en el sentido complejo, la derivada \(Df(z_0)\) no es otra cosa que la multiplicación por el número complejo \(f'(z_0)\), y \(f\) puede aproximarse localmente alrededor de \(z_0\) por su tangente \(z \mapsto f(z_0) + f'(z_0)(z - z_0)\).
  La derivada de la alteración temporal es
  \begin{align}
    \zeta'(t)
    =
    \abs{f'(\brownian(t))}^2
    =
    u_x(\brownian(t))^2 + u_y(\brownian(t))^2
  \end{align}
\end{remark}
\begin{remark}
  El famoso \emph{teorema de representación conforme de Riemann} enuncia qeu para cualquier par de conjuntos abiertos simplemente conexos \(U, V \subset \complexNumbers\) existe una aplicación conforme \(f : U \rightarrow V\).
  Esto asegura que hay ejemplos del teorema \ref{theorem:ConformalInvarianceOfPlanarBrownianMotion} por montones.
\end{remark}
\begin{proof}
  Notemos que la derivada de \(f\) es nonula excepto por un conjunto contable de puntos, que no tiene un punto límite en \(U\).
  Dado que este conjunto no es tocado por el movimiento Browniano, podemos removerlo de \(U\) y el conjunto resultante aún es abierto.
  Por lo tanto podemos asumir que la derivada de \(f\) no se desvanece sobre \(U\).

  % Esta parte podría irse
  También podemos asumir, sin pérdida de generalidad, que \(f\) es una aplicación entre domninios \emph{acotados}.
  Caso contrario elijamos \(U_n \subseteq K_n \subseteq U\) tales que \(U_n\) es abierto con \(\bigcup_n U_n = U\) y \(K_n\) es compacto, lo cual implica que \(V_n = f(U_n)\) es acotado.
  Entonces el proceso \(\{f(\brownian(t)) : t \leq \tau_{U_n}\}\) es un movimiento browniano con tiempo alterado para todo \(n\), y esto extiende inmediatamente al proceso \(\{f(\brownian(t)) : t \leq \tau_U\}\).

  El principal argumento de la prueba esta basado en la integración estocástica.
  Recordemos que las ecuaciones de Cauchy--Riemann implican que los vectores \(\nabla f_1\), \(\nabla f_2\) son ortogonales entre sí y cada uno de magnitud \(\abs{f'}\).
  Comezamos definiendo para cada \(t \geq 0\), un tiempo de parada
  \begin{align}
    \sigma(t) = \inf \{s \geq 0 : \zeta(s) \geq t\}
  \end{align}
  que representa la inversa de la alteración temporal.
  Sea \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\) un movimiento Browniano independiente de \(\{\brownian(t) : t \geq 0\}\), y definamos un proceso \(\{\wiener(t) : t \geq 0\}\) mediante
  \begin{align}
    &\wiener(t)
    =
    f(\brownian(\sigma(t) \wedge \tau_U))
      + \alteredBrownian(t) - \alteredBrownian(t \wedge \zeta(\tau_U))
    &&\text{para } t \geq 0
  \end{align}
  A grades trazos, el proceso \(\{f(\brownian(\sigma(t))) : 0 \leq t \leq \zeta(\tau_U)\}\) llega a su punto final en el instante aleatorio \(\zeta(\tau_U)\) y un movimiento Browniano independiente toma su lugar a partir de ese momento.
  Denotamos \(\mathcal{G}(t)\) a la \(\sigma\)--álgebra generada por \(\{\wiener(s) : s \leq t\}\).
  Será suficiente probar que el proceso \(\{\wiener(t) : t \geq 0\}\) es un movimiento Browniano.
  
  % No puedo decir que es obvio, hay que ser caradura ...
  Es obvio que el proceso es continuo casi seguramente y por tanto basta con mostra que sus distribuciones finito--dimensionales coinciden con las del movimiento Browniano.
  Recordando la transformada de Laplace de la distribución normal bivariada, esto es equivalente a mostrar que, para cualesquiera \(0 \leq s \leq t\) y \(\lambda \in \complexNumbers\),
  \begin{align}
    \Expectation\left[ \exp \ang{\lambda, \wiener(t)} \mid \mathcal{G}(s) \right]
    =
    \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - s) + \ang{\lambda, \wiener(s)} \right)
  \end{align}
  donde hemos usado \(\ang{\placeholderParameter , \placeholderParameter}\) para denotar al producto escalar.
  Esto se sigue directamente una vez que mostremos que, para \(z_0 \in U\),
  \begin{align}
    \label{equation:ConformalInvarianceOfPlanarBrownianMotion_MainEquation}
    \Expectation\left[ 
      \exp\ang{\lambda, \wiener(t)} 
      \mid \wiener(s) = f(z_0)
    \right]
    =
    \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - s) + \ang{\lambda, f(z_0)} \right)
  \end{align}
  Para simplificar la notación podemos asumirr \(s = 0\).
  Para la prueba, primero evaluamos la experanza con respecto al movimiento Browniano independiente \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\), lo cual dá
  \begin{align}
    \Expectation &\left[
      \exp \ang{\lambda, \wiener(t)}
      \mid 
      \wiener(0) = f(z_0) 
    \right]
    \\&=
    \Expectation_{z_0} \exp \left(
      \ang{\lambda, f(\brownian(\sigma(t), \wedge \tau_U))} 
      + \frac{1}{2} \abs{\lambda}^2 (t - \zeta(\sigma(t) \wedge \tau_U))
    \right)
  \end{align}
  Usamos la fórmula multidimensional de \ito para la aplicación acotada
  \begin{align}
    F(z, u)
    =
    \exp\left(
      \ang{\lambda, f(z)}
      + \frac{1}{2} \abs{\lambda}^2 (t - u)
    \right)
  \end{align}
  que está definida en \(U \times \left] - 1, \infty \right[\), ver la Observación 7.16.
  Para preparar esto, observar que \(\partial_{i i} e^g = \partial_{i i} g + (\partial_i g)^2 e^g\) y por lo tanto
  \begin{align}
    \label{equation:LaplacianOfExponential}
    \Delta e^g
    =
    (\Delta g + \abs{\nabla g}^2) e^g
  \end{align}
  Para \(g = \ang{\lambda , f}\) tenemos \(\nabla g = \sum_{i = 1}^2 \lambda_i \nabla f_i\), lo cual impica \(\abs{\nabla g}^2 = \abs{\lambda}^2 \abs{f'}^2\) dado que los vectores \(\nabla f_i\) son ortogonales con norma \(\abs{f'}\).
  Más aún, \(\nabla g = 0\) por la analiticidad de \(f\).
  Aplicar \ref{equation:LaplacianOfExponential} da
  \begin{align}
    \laplacian \exp \ang{\lambda, f(z)}
    =
    \abs{\lambda}^2 \abs{f'(z)}^2 \exp \ang{\lambda, f(z)}
  \end{align}
  Más aún, tenemos
  \begin{align}
    \partial_u \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - u) \right)
    =
    - \frac{1}{2} \abs{\lambda}^2 \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - u)\right)
  \end{align}
  Ahora definimos \(U_n = \{z \in U : \abs{z - w} \geq 1 / n \;(\forall w \in \partial U)\}\).
  Entonces \(\abs{f'(z)}\) se encuentra lejos de cero en \(U_n\) y por lo tanto el tiempo de parada \(T = \sigma(t) \wedge \tau_{U_n}\) es acotado.
  La fórmula multidimensional de \ito{} da, casi seguramente,
  \begin{align}
    F(\brownian(T), \zeta(T))
    &=
    F(\brownian(0), \zeta(0))
    + \int_0^T \grad_z F(\brownian(s), \zeta(s)) \cdot \dd \brownian(s)
    \\
    &+
    \int_0^T \partial_u F(\brownian(s), \zeta(s)) \dd \zeta(s)
    + \frac{1}{2} \int_0^T \laplacian_z F(\brownian(s), \zeta(s)) \dd s
  \end{align}
  Volviendo sobre las ecuaciones para \(\laplacian \exp\), \(\partial_u \exp\), y recordando que \(\dd \zeta(s) = \abs{f'(\brownian(s))}^2 \dd s\) vemos que los dos términos en la segunda línea se cancelan.
  Haciendo uso de la convergencia dominada y el hecho que la integral estocástica tiene esperanza nula, ver el Ejercicio 7.2, obtenemos
  \begin{align}
    \Expectation \left[
      \exp \ang{\lambda, \wiener(t)}
      \mid
      \wiener(0) = f(z_0)
    \right]
    &=
    \Expectation_{z_0} \left[ F(\brownian(\sigma(t) \wedge \tau_U), \zeta(\sigma(t) \wedge \tau_U))\right]
    \\
    &=
    \lim_{n \rightarrow \infty} \Expectation_{z_0} \left[F(\brownian(T), \zeta(T))\right]
    \\
    &=
    F(z_0, 0)
    \\
    &=
    \exp \left( \frac{1}{2} \abs{\lambda}^2 t + \ang{\lambda, f(z_0)} \right)
  \end{align}
  Esto muestra \eqref{equation:ConformalInvarianceOfPlanarBrownianMotion_MainEquation} y así completa la prueba del enunciado principal.
  Resta observar que, si \(f\) es conforme entonces cuando \(t \uparrow \tau_u\) el punto \(f(\brownian(t))\) converge a un punto en la frontera de \(V\).
  Por lo tanto \(\zeta(\tau_U)\) es el primer tiempo de salida de \(V\) por el proceso \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\).
\end{proof}

% \end{}

\newpage
{\huge \textbf{Apéndice}}

% \begin{}

% \begin{}

% Libro: Funciones analíticas %
% Autores: Jorge Antezana     %
% Número de Página: 21        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{Funciones analíticas}
\begin{definition}
  Sea \(U\) un suconjunto abierto de \(\complexNumbers\) y \(f : U \rightarrow \complexNumbers\) una función.
  Se dice que \(f\) es \emph{holomorfa} en \(z_0 \in U\) si existe el límite
  \begin{align}
    \lim_{h \rightarrow 0} \frac{f(z_0 + h) - f(z_0)}{h}
  \end{align}
  En tal caso, al valor del límite lo denotaremos \(f'(z_0)\) y lo denominaremos derivada (compleja) de \(f\) en \(z_0\).
  La función \(f\) se dice holomorfa en \(U\) si lo es para cada punto de \(U\).
  Si \(U = \complexNumbers\) entonces la función se denomina \emph{entera}.
\end{definition}

% Libro: Funciones analíticas %
% Autores: Jorge Antezana     %
% Número de Página: 26        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ecuaciones de Cauchy--Riemann
\begin{theorem}
  Una función \(f : U \subseteq \realNumbers^2 \rightarrow \realNumbers^2\) dada por  \(f(x, y) = (u(x, y), v(x, y))\), pensada como función de variable compleja es holomorfa en un punto si y sólo si es diferenciable y sus derivadas parciales satisfacen las ecuaciones de Cauchy--Riemann \(u_x = v_y\), \(u_y = - v_x\).
\end{theorem}

% Fuente?

\begin{definition}
  \(f(x, y) = (u(x, y), v(x, y))\)

  \(\laplacian f = \partial_x^2 u + \partial_y^2 v\)
\end{definition}

\begin{theorem}
  Si \(u, v\) satisfacen Cauchy--Riemann, entonces su Laplaciano es nulo.
\end{theorem}

% \end{}

% \begin{}

% Archivo: teorica19.pdf %
% Número de Página: 4    %
%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definición de tiempo de parada
\begin{definition}[Tiempo de parada.]
Sea \((\events_t : t \geq 0)\) una filtración en un espacio \(\Omega\).
Una función \(\tau : \Omega \rightarrow \left[ 0, \infty \right[\) es un tiempo de parada si \([T \leq t] \in \events_t\) para todo \(t \geq 0\).
\end{definition}

% Archivo: teorica20.pdf %
% Número de Página: 1    %
%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{Tiempos de contacto.}

\begin{proposition}
  Sea \(\{X_t : t \geq 0\}\) un proceso estocástico en el espacio métrico \((\metricSpace{}, d)\) adaptado a la filtración \((\events_t : t \geq 0)\) en la \(\sigma\)--álgebra de Borel \(\borel\).
  Supongamos que dicho proceso tiene trayectorias continuas, es decir \(\prob[ (X_t)_{t \geq 0} \in C(\left[0, \infty \right[, \metricSpace{})] = 1\).
  Entonces, para todo \(A\) cerrado, la función \(T_A\) es un tiempo de parada con respecto a \((\events_t : t \geq 0)\).
\end{proposition}

Otra opción es agrandar la filtración \((\events_t : t \geq 0)\).
Definimos, para \(t \geq 0\), \(\eventspp_t = \bigcap_{s > t} \events_s\), \(\events_t \subseteq \eventspp_t\), y consideramos la nueva filtración \((\eventspp_t : t \geq 0)\).
\begin{proposition}
  Sea \(\{X_t : t \geq 0\}\) un proceso \cadlag{} adaptado a \((\eventspp_t : t \geq 0)\).
  Sea \(A \in \borel(\metricSpace{})\) abierto.
  Entonces \(T_A\) es un tiempo de parada con respecto a \((\eventspp_t : t \geq 0)\).
\end{proposition}

% \end{}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 68            %
% Theorem Number: 2.51       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Functions of Brownian Motion
\begin{theorem}
  Sea \(f : \realNumbers^d \rightarrow \realNumbers\) dos veces continuamente derivable, y \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano \(d\)--dimensional.
  Además supongamos que, para todo \(t > 0\) y \(x \in \realNumbers^d\), tenemos \(\Expectation_x \abs{f(\brownian(t))} < \infty\) y \(\Expectation_x \int_0^t \abs{\laplacian f(\brownian(s))} \dd s < \infty\).
  Entonces el proceso definido por
  \begin{align}
    X(t)
    =
    f(\brownian(t)) - \frac{1}{2} \int_0^t \laplacian f(\brownian(s)) \dd s
  \end{align}
  es una martingala.
\end{theorem}
\begin{corollary}
  Supongamos \(f : \realNumbers^d \rightarrow \realNumbers\) satisface \(\laplacian f(x) = 0\) y \(\Expectation_x \abs{f(\brownian(t))} < \infty\), para todo \(x \in \realNumbers^d\) y \(t > 0\).
  Entonces el proceso \(\{f(\brownian(t)) : t \geq 0\}\) es una martingala.
\end{corollary}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 207           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Itô's Formula
\begin{theorem}[Fórmula de \ito{} Número I]
  Sea \(f : \realNumbers \rightarrow \realNumbers\) dos veces continuamente derivable tal que \(\Expectation \int_0^t f'(\brownian(s))^2 \dd s < \infty\) para algun \(t > 0\).
  Entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s)) - f(\brownian(0))
    =
    \int_0^s f'(\brownian(u)) \dd \brownian(u)
    + \frac{1}{2} \int_0^s f''(\brownian(u)) \dd u
  \end{align}
\end{theorem}
% Esta segunda versión no es necesaria
\begin{theorem}[Fórmula de \ito{} Número II]
  Supongamos \(\{\zeta(s) : s \geq 0\}\) es un proceso continuo creciente adaptado.
  Sea \(f : \realNumbers^2 \rightarrow \realNumbers\) dos veces continuamente derivable en la coordenada \(x\) y una vez continuamente derivable en la coordenada \(y\).
  Asumamos que
  % Esta condición nos dice algo sobre la integrabilidad de un proceso progresivamente medible
  \begin{align}
    \Expectation \int_0^t \left[ \partial_x f(\brownian(s), \zeta(s)) \right]^2 \dd s
    <
    \infty
  \end{align}
  para algún \(t > 0\).
  Entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s), \zeta(s)) - f(\brownian(0), \zeta(0))
    =
    &\int_0^s \partial_x f (\brownian(u), \zeta(u)) \dd \brownian(u)
    \\
    &+ \int_0^s \partial_y f(\brownian(u), \zeta(u)) \dd \zeta(u)
    \\
    &+ \frac{1}{2} \int_0^s \partial_{x x} f(\brownian(u), \zeta(u)) \dd u
  \end{align}
\end{theorem}

Con la misma técnica, obtenemos una versión de la fórmula de \ito para el movimiento Browniano en dimensiones superiores.
La prueba con sus detalles será un ejercicio, ver el Ejercicio 7.4.
Para dar una formulación agradable, introducimos algo de notacón para funciones \(f : \realNumbers^{d + m} \rightarrow \realNumbers\), donde interpretamos el argumento como dos vectores, \(x \in \realNumbers^d\) e \(y \in \realNumbers^m\).
Escribimos \(\partial_j\) para denotar la derivada parcial en la dirección de la coordenada \(j\)--ésima, y
\begin{align}
  &\grad_x f = (\partial_1 f, \dots, \partial_d f)
  &
  &\grad_y f = (\partial_{d + 1} f, \dots, \partial_{d + m} f)
\end{align}
para el vector de derivadas en la dirección de \(x\), respectivamente \(y\).
Para integrales usamos la notación del producto escalar
\begin{align}
  \int_0^t \grad_x f(\brownian(u), \zeta(u)) \cdot \dd \brownian(u)
  &=
  \sum_{i = 1}^d \int_0^t \partial_i f(\brownian(u), \zeta(u)) \dd B_i(u)
  \\
  \int_0^t \grad_y f(\brownian(u), \zeta(u)) \cdot \dd \zeta(u)
  &=
  \sum_{i = 1}^d \int_0^t \partial_{d + i} f(\brownian(u), \zeta(u)) \dd \zeta_i(u)
\end{align}
Finalmente, para el Laplaciano en la variable \(x\) escribimos
\begin{align}
  \laplacian_x f
  =
  \sum_{j = 1}^d \partial_{j j} f
\end{align}
% Tanta complejidad es innecesaria
% Tengo que modificar este teorema 
% para que no incluya la dependencia del proceso creciente
\begin{theorem}[Fórmula de \ito{} multidimensional]
  \label{theorem:ItoFormula_multidimensional}
  Sea \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano \(d\)--dimensional y supongamos \(\{\zeta(s) : s \geq 0\}\) es un proceso adaptado, continuo con valores en \(\realNumbers^m\) y componentes crecientes.
  Sea \(f : \realNumbers^{d + m} \rightarrow \realNumbers\) tal que las derivadas parciales \(\partial_i f\), \(\partial_{j k}\) existen para todo \(1 \leq j, k \leq d\), \(d + 1 \leq i \leq d + m\) y son continuas.
  Si, para algún \(t > 0\),
  \begin{align}
    \Expectation \int_0^t \abs{\grad_x f(\brownian(s), \zeta(s))}^2 \dd s
    <
    \infty
  \end{align}
  entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s), \zeta(s)) - f(\brownian(0), \zeta(0))
    =
    &\int_0^s \grad_x f(\brownian(u), \zeta(u)) \cdot \dd \brownian(u)
    \nonumber
    \\
    &+ \int_0^s \grad_y f(\brownian(u), \zeta(u)) \cdot \dd \zeta(u)
    \nonumber
    \\
    &+ \frac{1}{2} \int_0^s \laplacian_x f(\brownian(u), \zeta(u)) \dd u
    \label{equation:ItoFormula_multidimensional}
  \end{align}
  \begin{remark}
    Dado que la fórmula de \ito se verifica casi seguramente de forma simultánea para todo tiempo \(s \in [0, t]\), también es válida para tiempos de parada acotados por \(t\).
    Supongames ahora que \(f : U \rightarrow \realNumbers\) satisface las condiciones de diferenciabilidad en un conjunto abierto \(U\), y \(K \subseteq U\) es compacto.
    Tomamos una función suave \(g : \realNumbers^m \rightarrow [0, 1]\) con soporte compacto dentro de \(U\), tal que \(g \equiv 1\) sobre \(K\).
    Entonces \(f^* = f g : \realNumbers^m \rightarrow \realNumbers\) satisface \(f^* = f\) sobre \(K\) y todas las derivadas relevantes se encuentran acotadas, de modo tal que se satisfacen las condiciones del teorema \ref{theorem:ItoFormula_multidimensional}.
    Sea \(T\) el primer tiempo de salida de \(K\).
    Aplicando el teorema \ref{theorem:ItoFormula_multidimensional} a \(f^*\) arroja \eqref{equation:ItoFormula_multidimensional} para \(f\), casi seguramente, para todo tiempo \(s \wedge T\), para \(s \leq t\).
  \end{remark}
\end{theorem}

% \end{}
\end{document}