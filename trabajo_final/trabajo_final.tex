% Report document structure %
% \part{}, \chapter{}, 
% \section{}, \subsection{}, \subsubsection{}, 
% \paragraph{}, \subparagraph{}.
\documentclass{report}
% Document Packages %
%%%%%%%%%%%%%%%%%%%%%
\usepackage[spanish]{babel}
% LaTeX Packages %
%%%%%%%%%%%%%%%%%%
\usepackage{etoolbox}
% Mathematics Packages %
%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bbm}
\usepackage{mathrsfs}
% Text Abreviation %
%%%%%%%%%%%%%%%%%%%%
\newcommand{\ito}{Itô}
\newcommand{\morters}{Mörters}
\newcommand{\cadlag}{càdlàg}
% Mathematics Notation %
%%%%%%%%%%%%%%%%%%%%%%%%
% Intervals \begin{}
  \newcommand{\leftOpenInterval}{\left]}
  \newcommand{\rightOpenInterval}{\right[}
  \newcommand{\leftClosedInterval}{\left[}
  \newcommand{\rightClosedInterval}{\right]}
  \newcommand{\interval}[3]{%
    \ifstrequal{#1}{oo}{%
      \leftOpenInterval #2, #3 \rightOpenInterval%
    }{%
      \ifstrequal{#1}{co}{%
        \leftClosedInterval #2, #3 \rightOpenInterval%
      }{%
        \ifstrequal{#1}{oc}{
          \leftOpenInterval #2, #3 \rightClosedInterval%
        }{%
          \ifstrequal{#1}{cc}{
            \leftClosedInterval #2, #3 \rightClosedInterval
          }{%
          }%
        }%
      }%
    }%
  }
% \end{}
\newcommand{\restrict}[2]{\left.#1\right|_{#2}}
\newcommand{\characteristic}{\mathbbm{1}}
\newcommand{\prob}{\mathbb{P}}
\newcommand{\events}{\mathcal{F}}
\newcommand{\eventspp}{\events^+}
\newcommand{\borel}{\mathcal{B}}
\newcommand{\metricSpace}{\mathcal{M}}
\newcommand{\brownian}{B}
\newcommand{\alteredBrownian}{\widetilde{\brownian}}
\newcommand{\wiener}{W}
\newcommand{\progressiveAlgebra}{\mathscr{E}}
\newcommand{\placeholderParameter}{-}
\newcommand{\dd}{\mathop{}\!\mathrm{d}}
\newcommand{\naturalNumbers}{\mathbb{N}}
\newcommand{\realNumbers}{\mathbb{R}}
\newcommand{\complexNumbers}{\mathbb{C}}
\DeclareMathOperator{\laplacian}{\Delta}
\DeclareMathOperator{\grad}{\nabla}
\DeclareMathOperator{\Expectation}{\mathbb{E}}
% Paired Delimiters %
%%%%%%%%%%%%%%%%%%%%%
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\|}{\|}
\DeclarePairedDelimiter{\ang}{\langle}{\rangle}
% Theorem environments %
%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Teorema}
\newtheorem{proposition}{Proposición}
\newtheorem{lemma}{Lema}
\newtheorem{corollary}{Corolario}
\newtheorem{property}{Propiedad}
\theoremstyle{remark}
\newtheorem{remark}{Observación}
\theoremstyle{definition}
\newtheorem{definition}{Definición}

\title{Estudio sobre la invarianza conforme del movimiento Browniano planar}
\author{Pablo Brianese}

\begin{document}
\maketitle

% \begin{}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 200           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Integrales estocásticas con respecto al movimiento Browniano}

Consideramos el movimiento Browniano en dimensión uno \(\{\brownian(t) : t \geq 0\}\) como una función continua.
Desafortunadamente, las instancias del movimiento Browniano no son lo suficientemente regulares
\footnote{Las funciones con respecto a las cuales podemos integrar son las llamadas de \emph{variación acotada}.
Una de sus propiedades es ser derivables en casi todo punto de su dominio.
Por su lado, las instancias del movimiento Browniano son, casi seguramente, derivables en ningún punto de su dominio.}
como para definir integrales de la forma \(\int_0^t f(s) \dd \brownian(s)\) instancia a instancia.
Sin embargo, existe una via de escape para este dilema, si estamos dispuestos a usar nociones más débiles de límite soportadas en el hecho que los movimientos Brownianos son funciones \emph{aleatorias}.
Esta es la idea de la \emph{integración estocástica}.

Antes de explicar el procedimiento, debemos estudiar algo de teoría de la medida sobre una clase de integrandos razonable que encontraremos en los \emph{procesos progresivamente medibles}.

\section{Procesos progresivamente medibles}
% Miré el libro de schreve. no describe la matemática de los procesos progresivamente medibles.
% Tengo que mirar el artículo chung1965.pdf
% También podrían ser útiles los libros de Meyer y Dellacherie

% Book: Probability and potential %
% Authors: Paul Andre Meyer       %
% Page number: 85                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% La afirmación recíproca al teorema 49 de este libro es cierta?

% Measurability of hitting times
Haremos uso sistemático de un isomorfismo%
\footnote{Esta idea parece formalmente similar a como el producto por un escalar en un espacio vectorial puede considerarse como una función definida sobre el producto tensorial de los escalares con los vectores, o un producto en un anillo puede considerarse como una función definida sobre el cuadrado tensorial del anillo.
Alguien con más instrucción en álgebra y teoría de categorías debería poder hacer un comentario sobre esto.}
(vago, no formal) que existe entre una visión dinámica y otra estática%
\footnote{algo así como el punto de vista del filósofo griego Parménides de Elea sobre los procesos estocásticos.}
de los procesos estocásticos.
Concretamente, un proceso estocástico \(\{X(t) : t \geq 0\}\) adaptado a una filtración \((\events(t) : t \geq 0)\) en un espacio de probabilidad \((\Omega, \events, \prob)\) puede ser considerado como una función \(X\) dada por \(X(t, \omega) = X(t)(\omega)\) definida en el producto cartesiano \(\interval{co}{0}{\infty} \times \Omega\).
Recíprocamente, dada una función \(X\) definida en \(\interval{co}{0}{\infty} \times \Omega\), denotamos por \(X(t)\) la aplicación parcial \(\omega \mapsto X(t, \omega)\), e \emph{identificamos} la función \(X\) con la familia de aplicaciones parciales \(\{X(t)\}\).
Esto permite decir, por ejemplo, que la función \(X\) \emph{es un proceso} si la familia \(\{X(t)\}\) lo es.

% Creo que esta sigma álgebra es la misma de la que hablan en la siguiente referencia,
% y que da lugar a unos procesos llamados 'predecibles'

% Book: Brownian motion and martingales in analysis %
% Authors: Richard Durrett                          %
% Page number: 60                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{definition}
  Un proceso \(\{X(t) : t \geq 0\}\) en un espacio de probabilidad \((\Omega, \events, \prob)\) adaptado a una filtración \((\events(t) : t \geq 0)\) es llamado \emph{progresivamente medible} si para todo \(t \geq 0\) la aplicación \(X : [0, t] \times \Omega \rightarrow \realNumbers\) es medible con respecto a la \(\sigma\)--álgebra \(\borel([0, t]) \otimes \events(t)\).
\end{definition}
\begin{lemma}
  Todo proceso adaptado \(\{X(t) : t \geq 0\}\) continuo a derecha o izquierda es progresivamente medible.
  \footnote{La prueba puede encontrarse como Lemma 7.2, en Brownian Motion de \morters{} y Peres.}
\end{lemma}
\begin{proof}
  Asumamos que el proceso \(\{X(t)\}\) es continuo a derecha.
  Fijemos \(t > 0\), y consideremos la restricción \(X : \interval{cc}{0}{t} \times \Omega \rightarrow \realNumbers\) y su correspondiente proceso \(\{X(s)\}\).
  Tomamos finitas muestras del proceso restringido a intervalos regulares de tiempo y propagamos estas muestras al pasado.
  De este modo, para cada entero positivo \(n\) obtenemos un nuevo proceso estocástico
  \begin{align}
    &\{X_n(s) : 0 \leq s \leq t\}
    &&
    X_n(s)
    =
    \left\{
      \begin{aligned}
        &X(0) 
          &&\text{para } 
            s = 0
          \\
        &X(t_{k + 1})
          &&\text{para }
            t_k < s \leq t_{k + 1}
      \end{aligned}
    \right.
  \end{align}
  donde \(t_k = k t 2^{- n}\) con \(k \in \{1, \dots, 2^n\}\) junto a 0 son los instantes de muestreo que particionan \(\interval{cc}{0}{t}\) en \(2^n\) intervalos regulares de longitud \(t 2^{- n}\).
  La aplicación \(X_n : \interval{cc}{0}{t} \times \Omega \rightarrow \realNumbers\) es \(\borel(\interval{cc}{0}{t}) \otimes \events(t)\)--medible. % ???
  Por continuidad a derecha tenemos \(\lim_{n \rightarrow \infty} X_n(s, \omega) = X(s, \omega)\) para todo \(s \in [0, t]\) y \(\omega \in \Omega\), por tanto el límite \(X\) también es medible según \(\borel([0, t]) \otimes \events(t)\).
  Esto prueba que \(\{X(t)\}\) es progresivamente medible.
  El caso continuo a izquierda es análogo.
\end{proof}

% Hipótesis %
%%%%%%%%%%%%%
% Mi hipótesis sobre la naturaleza de los procesos progresivamente medibles es que forman la \(\sigma\)--álgebra del producto, en una categoría de espacios filtrados, entre la recta filtrada por \(\borel(t)\) y un espacio de probabilidad filtrado por \(\events(t)\).
\begin{remark}
  Los procesos constantes son progresivamente medibles.
\end{remark}

% Tarea %
%%%%%%%%%
% Devería tener ejemplos triviales y no triviales de procesos progresivamente medibles.
Usando la correspondencia estático-dinámica de los procesos llegamos a la siguiente noción. 
\begin{definition}
  Sea \((\Omega, \events, \prob)\) un espacio de probabilidad filtrado por \((\events(t) : t \geq 0)\).
  Un subconjunto \(A\) de \(\interval{co}{0}{\infty} \times \Omega\) \emph{es progresivamente medible} con respecto a la filtración \((\events(t))\) si su función indicadora \(\characteristic_A : \interval{co}{0}{\infty} \times \Omega \rightarrow \realNumbers\) queda identificada con un proceso progresivamente medible con respecto a esta familia.

  Escribimos \(E = \interval{co}{0}{\infty} \times \Omega\) y \(E_t = \interval{cc}{0}{t} \times \Omega\). Usamos \(\progressiveAlgebra\) para denotar al conjunto de partes progresivamente medibles de \(E\).
\end{definition}

% \begin{property}
%   Un subconjunto \(A\) de \(E\) es progresivamente medible si y solo si \(A \cap E_t \in \borel([0, t]) \otimes \events(t)\) para todo \(t \geq 0\).
% \end{property}

\begin{theorem}
  Los conjuntos progresivamente medibles forman una \(\sigma\)--álgebra.
\end{theorem}
\begin{proof}
  En primer lugar, la función característica del conjunto \(E\) es \({\characteristic_E = 1}\).
  Luego \(E \in \progressiveAlgebra\), porque todo proceso constante es progresivamente medible.
  En segundo lugar, suponer \(A \in \progressiveAlgebra\) nos permite deducir \(E \setminus A \in \progressiveAlgebra\).
  Esto se debe a que, para cada \(t \geq 0\), la función \(\restrict{\characteristic_{E \setminus A}}{E_t}\) es 0 sobre el conjunto \(A \cap E_t\) e igual a 1 sobre el conjunto \((E \setminus A) \cap E_t\), ambos medibles según la \(\sigma\)--álgebra \(\borel([0, t]) \otimes \events(t)\).
  Finalmente, consideramos una sucesión \(\{A_n \in \progressiveAlgebra : n \in \naturalNumbers\}\).
  En este caso, para cada \(t \geq 0\), la función \(\restrict{\characteristic_{(\bigcap_n A_n)}}{E_t}\)
  es 0 sobre el conjunto \(\bigcup_n A_n \cap E_t\) e igual a 1 sobre el conjunto \(\bigcap_n A_n \cap E_t\), ambos apropiadamente medibles.
\end{proof}

\section{Construcción de la integral}
% Evitamos una referencia a la integral estocástica de Paley--Wiener
Denotamos por \((\Omega, \events, \prob)\) al espacio de probabilidad en que nuestro movimiento Browniano \(\{\brownian(t) : t \geq 0\}\) está definido y supongamos que \((\events(t) : t \geq 0)\) es una filtración a la que el movimiento Browniano está adaptado tal que la propiedad fuerte de Markov se verifica.
% Propiedad fuerte de Markov? Se verifica? Podría no verificarse en una filtración extraña?

La construcción de las integrales es casi directa.
Comenzamos integrando procesos de salto progresivamente medibles \(\{H(t, \omega) : t \geq 0, \omega \in \Omega\}\) de la forma
\begin{align}
  H(t, \omega)
  =
  \sum_{i = 1}^k A_i(\omega)\characteristic_{\left] t_i, t_{i + 1} \right]}(t)
\end{align}
para tiempos \(0 \leq t_1 \leq \cdots \leq t_{k + 1}\), y variables \(\events(t_i)\)--medibles \(A_i\).
En completa analogía con el caso clásico definimos su integral como
\begin{align}
  \int_0^{\infty} H(s) \dd \brownian(s)
  \coloneqq
  \sum_{i = 1}^k A_i (\brownian(t_{i + 1}) - \brownian(t_i))
\end{align}
Ahora sea \(H\) un proceso progresivamente medible que satisface \(\Expectation \int_0^{\infty} H(s)^2 \dd s < \infty\).
Supongamos que \(H\) puede ser aproximado mediante una familia de procesos de salto progresivamente medibles \(H_n\), \(n \geq 1\), entonces definimos
\begin{align}
  \int_0^\infty H(s) \dd \brownian(s)
  \coloneqq
  \lim_{n \rightarrow \infty} \int_0^\infty H_n(s) \dd \brownian(s)
  \label{definition:stochasticIntegralWithRespectToBrownianMotion_norm2Approximation}
\end{align}
A esta altura nos concentramos en la convergencia \(L^2\), aunque finalmente veremos que la integral estocástica también puede ser construída como un límite casi seguro, ver ???.
% Referencia a Remark 7.7

Para la estudiar las aproximaciones por procesos de salto progresivamente medibles, consideramos la familia \(\mathcal{H}\) formada por los procesos progresivamente medibles cuya norma 2 es finita en el sentido que
% No entiendo por qué H(s) es lebesgue medible, y por qué puedo tomar esperanza de la integral.
\begin{align}
  \norm{H}_2^2
  \coloneqq
  \Expectation \int_0^{\infty} H(s)^2 \dd s
  <
  \infty
\end{align}

Lo que tenemos que demostrar ahora para completar la definición es que,
\begin{enumerate}
  \item
  \label{lemma:norm2Approximation_densityOfStepProcesses}
  todo proceso en \(\mathcal{H}\) puede ser aproximado en norma 
  \(\norm{\placeholderParameter}_2\) 
  mediante procesos de salto progresivamente medibles;
  \item
  \label{lemma:norm2Approximation_sequenceConvergence}
  para cada secuencia de aproximación el límite en \eqref{definition:stochasticIntegralWithRespectToBrownianMotion_norm2Approximation} existe en el sentido de \(L^2\);
  \item
  \label{lemma:norm2Approximation_limitUniqueness}
  y este límite no depende de la elección de procesos de salto aproximantes.
\end{enumerate} 
Esto es lo que verificamos ahora, comenzando con el item \ref{lemma:norm2Approximation_densityOfStepProcesses}.
\begin{lemma}
  Para cada proceso \(H \in \mathcal{H}\) existe una secuencia \(\{H_n : n \in \naturalNumbers\}\) de procesos de salto progresivamente medibles tales que \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).
\end{lemma}
\begin{proof}
  Aproximamos el proceso progresivamente medible sucesivamente por
  \begin{itemize}
    \item un proceso progresivamente medible acotado,
    \item un proceso progresivamente medible acotado casi seguramente continuo,
    \item y finalmente, por un proceso de saltos progresivamente medible.
  \end{itemize}
  
  En \emph{primer} notamos que los procesos eventualmente nulos (esto es, nulos para tiempos \(s\) lo suficientemente grandes) son densos en \(\mathcal{H}\).
  Dado \(H \in \mathcal{H}\), definimos el corte en un tiempo fijo \(n > 0\) como \(H_n(s, \omega) = H(s, \omega) \characteristic_{[0, n]}(s)\).
  Claramente \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).

  % Creo que los autores suponen que H \geq 0 pero nunca hicieron explícita esa hipótesis
  En \emph{segundo} lugar, notamos que los procesos uniformemente acotados son densos entre los elementos de \(\mathcal{H}\) eventualmente nulos.
  Dado \(H \in \mathcal{H}\) nulo a partir de tiempo \(s_* > 0\) en adelante, lo aproximamos truncando sus valores.
  Para \(n \in \naturalNumbers\) definimos \(H_n\) como \(H_n(s, \omega) = -n \vee H(s, \omega) \wedge n\).
  Claramente \(H_n\) es progresivamente medible y \(\lim_{n \rightarrow \infty} \norm{H_n - H}_2 = 0\).

  % estoy finado porque tengo que aplicar o convergencia dominada
  % pero no tengo claro el espacio de medida.

  Primer consecuencia de la definición de \(H_n\) 
  \(H(s) = H_n(s)\) \((\forall s \geq s_*)\) \((\forall n \in \naturalNumbers)\)

  Segunda consecuencia de la definición de \(H_n\) 
  \([\abs{H(s) - H_n(s)} \geq \delta] = [\abs{H(s)} \geq n + \delta]\) \((\forall \delta > 0)\) \((\forall s \geq 0)\) \((\forall n \in \naturalNumbers)\)

  \begin{align}
    \norm{H - H_n}_2^2
    &=
    \Expectation \int_0^{\infty} (H(s) - H_n(s))^2 \dd s
    \\
    &=
    \Expectation \int_0^{s_*} (H(s) - H_n(s))^2 \dd s
    \\
    &=
    \int_0^{s_*} \Expectation \left[ (H(s) - H_n(s))^2 \right] \dd s
    \\
    &=
    \int_0^{s_*} \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h \dd s
  \end{align}
  Definimos \(I_n(s) \coloneqq \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h\).
  \begin{align}
    I_n(s)
    &=
    \int_0^{\infty} \prob \left[ (H(s) - H_n(s))^2 > h \right] \dd h
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s) - H_n(s)} > \sqrt{h} \right] \dd h
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s) - H_n(s)} > u \right] 2 u \dd u
    \\
    &=
    \int_0^{\infty} \prob \left[ \abs{H(s)} > n + u \right] 2 u \dd u
    \\
    &=
    \int_n^{\infty} \prob \left[ \abs{H(s)} > v \right] 2 (v - n) \dd v
    \\
    &\leq
    \int_n^{\infty} \prob \left[ \abs{H(s)} > v \right] 2 v \dd v
    \\
    &=
    \int_n^{\infty} \prob \left[ H(s)^2 > v^2 \right] 2 v \dd v
    \\
    &=
    \int_{n^2}^{\infty} \prob \left[ H(s)^2 > c \right] \dd c
  \end{align}
  Entonces \(I_n(s) \leq \)
  \begin{align}
    \norm{H - H_n}_2^2
    &=
    \int_0^{s_*} 
      \int_{n^2}^{\infty} 
        \prob \left[ H(s)^2 > c \right] 
      \dd c 
    \dd s
  \end{align}
  
\end{proof}

% \end{}

\part{Invarianza conforme del movimiento Browniano planar}
% \begin{}

% Book: Brownian Motion  %
% Author: Mörters, Peres %
% Page Number: 212       %
%%%%%%%%%%%%%%%%%%%%%%%%%%
Para motivar el resultado supongamos que \(f : \complexNumbers \rightarrow \complexNumbers\) es \emph{analítica}, es decir diferenciable en el sentido complejo en todas partes, y escribamos \(f(x, y) = (u(x, y), v(x, y))\) para referirnos a su representación como función \(f : \realNumbers^2 \rightarrow \realNumbers^2\).
Entonces, por las ecuaciones de Cauchy--Riemann \(u_x = v_y\) y \(u_y = - v_x\), tenemos \(\Delta u = \Delta v = 0\).
Entonces la fórmula de \ito{} (si aplica) afirma que casi seguramente, para todo \(t \geq 0\),
\begin{align}
  f(\brownian(t))
  =
  \int_0^t f'(\brownian(s)) \dd \brownian(s)
\end{align}
donde \(\dd \brownian(s)\) es una abreviación para \(\dd (\Re \brownian(s)) + i \dd (\Im \brownian(s))\).
El lado derecho define un proceso continuo con incrementos independientes, y es al menos plausible que sean gaussianos.
Más aún, su esperanza es nula y
\begin{align}
  \Expectation \left[ \left( \int_0^t f'(\brownian(s)) \dd \brownian(s) \right)^2 \right]
  =
  \Expectation \int_0^t \abs{f'(\brownian(s))}^2 \dd s
\end{align}
sugiriendo que \(\{f(\brownian(t)) : t \geq 0\}\) es un movimiento Browniano `viajando' con la velocidad alterada
\begin{align}
  t
  \mapsto
  \int_0^t \abs{f'(\brownian(s))}^2 \dd s
\end{align}
Para pasar de esta eurística a un poderoso teorema permitimos que la función sea una aplicación analítica \(f : U \rightarrow V\) entre dominios en el plano.
Recordamos que tal aplicación es \emph{conforme} si es una biyección.

\begin{theorem}
  \label{theorem:ConformalInvarianceOfPlanarBrownianMotion}
  Sea \(U\) un dominio en el plano complejo, \(z_0 \in U\), y sea \(f : U \rightarrow V\) analítica.
  Sea \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano que comienza en \(z_0\) y
  \begin{align}
    \tau_U
    =
    \inf \{ t \geq 0 : \brownian(t) \notin U\}
  \end{align}
  su primer tiempo de salida del dominio \(U\).
  Entonces el proceso
  \(\{f(\brownian(t)) : 0 \leq t \leq \tau_U\}\)  % Este tipo de procesos deben ser los detenidos en el tiempo. O sea f(\brownian(t \wedge \tau_U)) con t \geq 0.
  es un movimiento Browniano con velocidad alterada, es decir que existe un movimiento Browniano planar \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\) tal que, para todo \(t \in \left[ 0, \tau_U \right[\),
  \begin{align}
    & f(\brownian(t)) = \alteredBrownian(\zeta(t))
    &
    & \text{donde }
    \zeta(t) = \int_0^t \abs{f'(\brownian(s))}^2 \dd s
  \end{align}
  Si, adicionalmente, \(f\) es conforme, entonces \(\zeta(\tau_U)\) es el primer tiempo de salida de \(V\) por \(\widehat{B}(t) : t \geq 0\).
\end{theorem}
\begin{remark}
  Notar que, al ser \(f\) diferenciable en el sentido complejo, la derivada \(Df(z_0)\) no es otra cosa que la multiplicación por el número complejo \(f'(z_0)\), y \(f\) puede aproximarse localmente alrededor de \(z_0\) por su tangente \(z \mapsto f(z_0) + f'(z_0)(z - z_0)\).
  La derivada de la alteración temporal es
  \begin{align}
    \zeta'(t)
    =
    \abs{f'(\brownian(t))}^2
    =
    u_x(\brownian(t))^2 + u_y(\brownian(t))^2
  \end{align}
\end{remark}
\begin{remark}
  El famoso \emph{teorema de representación conforme de Riemann} enuncia qeu para cualquier par de conjuntos abiertos simplemente conexos \(U, V \subset \complexNumbers\) existe una aplicación conforme \(f : U \rightarrow V\).
  Esto asegura que hay ejemplos del teorema \ref{theorem:ConformalInvarianceOfPlanarBrownianMotion} por montones.
\end{remark}
\begin{proof}
  Notemos que la derivada de \(f\) es nonula excepto por un conjunto contable de puntos, que no tiene un punto límite en \(U\).
  Dado que este conjunto no es tocado por el movimiento Browniano, podemos removerlo de \(U\) y el conjunto resultante aún es abierto.
  Por lo tanto podemos asumir que la derivada de \(f\) no se desvanece sobre \(U\).

  % Esta parte podría irse
  También podemos asumir, sin pérdida de generalidad, que \(f\) es una aplicación entre domninios \emph{acotados}.
  Caso contrario elijamos \(U_n \subseteq K_n \subseteq U\) tales que \(U_n\) es abierto con \(\bigcup_n U_n = U\) y \(K_n\) es compacto, lo cual implica que \(V_n = f(U_n)\) es acotado.
  Entonces el proceso \(\{f(\brownian(t)) : t \leq \tau_{U_n}\}\) es un movimiento browniano con tiempo alterado para todo \(n\), y esto extiende inmediatamente al proceso \(\{f(\brownian(t)) : t \leq \tau_U\}\).

  El principal argumento de la prueba esta basado en la integración estocástica.
  Recordemos que las ecuaciones de Cauchy--Riemann implican que los vectores \(\nabla f_1\), \(\nabla f_2\) son ortogonales entre sí y cada uno de magnitud \(\abs{f'}\).
  Comezamos definiendo para cada \(t \geq 0\), un tiempo de parada
  \begin{align}
    \sigma(t) = \inf \{s \geq 0 : \zeta(s) \geq t\}
  \end{align}
  que representa la inversa de la alteración temporal.
  Sea \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\) un movimiento Browniano independiente de \(\{\brownian(t) : t \geq 0\}\), y definamos un proceso \(\{\wiener(t) : t \geq 0\}\) mediante
  \begin{align}
    &\wiener(t)
    =
    f(\brownian(\sigma(t) \wedge \tau_U))
      + \alteredBrownian(t) - \alteredBrownian(t \wedge \zeta(\tau_U))
    &&\text{para } t \geq 0
  \end{align}
  A grades trazos, el proceso \(\{f(\brownian(\sigma(t))) : 0 \leq t \leq \zeta(\tau_U)\}\) llega a su punto final en el instante aleatorio \(\zeta(\tau_U)\) y un movimiento Browniano independiente toma su lugar a partir de ese momento.
  Denotamos \(\mathcal{G}(t)\) a la \(\sigma\)--álgebra generada por \(\{\wiener(s) : s \leq t\}\).
  Será suficiente probar que el proceso \(\{\wiener(t) : t \geq 0\}\) es un movimiento Browniano.
  
  % No puedo decir que es obvio, hay que ser caradura ...
  Es obvio que el proceso es continuo casi seguramente y por tanto basta con mostra que sus distribuciones finito--dimensionales coinciden con las del movimiento Browniano.
  Recordando la transformada de Laplace de la distribución normal bivariada, esto es equivalente a mostrar que, para cualesquiera \(0 \leq s \leq t\) y \(\lambda \in \complexNumbers\),
  \begin{align}
    \Expectation\left[ \exp \ang{\lambda, \wiener(t)} \mid \mathcal{G}(s) \right]
    =
    \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - s) + \ang{\lambda, \wiener(s)} \right)
  \end{align}
  donde hemos usado \(\ang{\placeholderParameter , \placeholderParameter}\) para denotar al producto escalar.
  Esto se sigue directamente una vez que mostremos que, para \(z_0 \in U\),
  \begin{align}
    \label{equation:ConformalInvarianceOfPlanarBrownianMotion_MainEquation}
    \Expectation\left[ 
      \exp\ang{\lambda, \wiener(t)} 
      \mid \wiener(s) = f(z_0)
    \right]
    =
    \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - s) + \ang{\lambda, f(z_0)} \right)
  \end{align}
  Para simplificar la notación podemos asumirr \(s = 0\).
  Para la prueba, primero evaluamos la experanza con respecto al movimiento Browniano independiente \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\), lo cual dá
  \begin{align}
    \Expectation &\left[
      \exp \ang{\lambda, \wiener(t)}
      \mid 
      \wiener(0) = f(z_0) 
    \right]
    \\&=
    \Expectation_{z_0} \exp \left(
      \ang{\lambda, f(\brownian(\sigma(t), \wedge \tau_U))} 
      + \frac{1}{2} \abs{\lambda}^2 (t - \zeta(\sigma(t) \wedge \tau_U))
    \right)
  \end{align}
  Usamos la fórmula multidimensional de \ito para la aplicación acotada
  \begin{align}
    F(z, u)
    =
    \exp\left(
      \ang{\lambda, f(z)}
      + \frac{1}{2} \abs{\lambda}^2 (t - u)
    \right)
  \end{align}
  que está definida en \(U \times \left] - 1, \infty \right[\), ver la Observación 7.16.
  Para preparar esto, observar que \(\partial_{i i} e^g = \partial_{i i} g + (\partial_i g)^2 e^g\) y por lo tanto
  \begin{align}
    \label{equation:LaplacianOfExponential}
    \Delta e^g
    =
    (\Delta g + \abs{\nabla g}^2) e^g
  \end{align}
  Para \(g = \ang{\lambda , f}\) tenemos \(\nabla g = \sum_{i = 1}^2 \lambda_i \nabla f_i\), lo cual impica \(\abs{\nabla g}^2 = \abs{\lambda}^2 \abs{f'}^2\) dado que los vectores \(\nabla f_i\) son ortogonales con norma \(\abs{f'}\).
  Más aún, \(\nabla g = 0\) por la analiticidad de \(f\).
  Aplicar \ref{equation:LaplacianOfExponential} da
  \begin{align}
    \laplacian \exp \ang{\lambda, f(z)}
    =
    \abs{\lambda}^2 \abs{f'(z)}^2 \exp \ang{\lambda, f(z)}
  \end{align}
  Más aún, tenemos
  \begin{align}
    \partial_u \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - u) \right)
    =
    - \frac{1}{2} \abs{\lambda}^2 \exp\left( \frac{1}{2} \abs{\lambda}^2 (t - u)\right)
  \end{align}
  Ahora definimos \(U_n = \{z \in U : \abs{z - w} \geq 1 / n \;(\forall w \in \partial U)\}\).
  Entonces \(\abs{f'(z)}\) se encuentra lejos de cero en \(U_n\) y por lo tanto el tiempo de parada \(T = \sigma(t) \wedge \tau_{U_n}\) es acotado.
  La fórmula multidimensional de \ito{} da, casi seguramente,
  \begin{align}
    F(\brownian(T), \zeta(T))
    &=
    F(\brownian(0), \zeta(0))
    + \int_0^T \grad_z F(\brownian(s), \zeta(s)) \cdot \dd \brownian(s)
    \\
    &+
    \int_0^T \partial_u F(\brownian(s), \zeta(s)) \dd \zeta(s)
    + \frac{1}{2} \int_0^T \laplacian_z F(\brownian(s), \zeta(s)) \dd s
  \end{align}
  Volviendo sobre las ecuaciones para \(\laplacian \exp\), \(\partial_u \exp\), y recordando que \(\dd \zeta(s) = \abs{f'(\brownian(s))}^2 \dd s\) vemos que los dos términos en la segunda línea se cancelan.
  Haciendo uso de la convergencia dominada y el hecho que la integral estocástica tiene esperanza nula, ver el Ejercicio 7.2, obtenemos
  \begin{align}
    \Expectation \left[
      \exp \ang{\lambda, \wiener(t)}
      \mid
      \wiener(0) = f(z_0)
    \right]
    &=
    \Expectation_{z_0} \left[ F(\brownian(\sigma(t) \wedge \tau_U), \zeta(\sigma(t) \wedge \tau_U))\right]
    \\
    &=
    \lim_{n \rightarrow \infty} \Expectation_{z_0} \left[F(\brownian(T), \zeta(T))\right]
    \\
    &=
    F(z_0, 0)
    \\
    &=
    \exp \left( \frac{1}{2} \abs{\lambda}^2 t + \ang{\lambda, f(z_0)} \right)
  \end{align}
  Esto muestra \eqref{equation:ConformalInvarianceOfPlanarBrownianMotion_MainEquation} y así completa la prueba del enunciado principal.
  Resta observar que, si \(f\) es conforme entonces cuando \(t \uparrow \tau_u\) el punto \(f(\brownian(t))\) converge a un punto en la frontera de \(V\).
  Por lo tanto \(\zeta(\tau_U)\) es el primer tiempo de salida de \(V\) por el proceso \(\left\{ \alteredBrownian(t) : t \geq 0 \right\}\).
\end{proof}

% \end{}

\newpage
{\huge \textbf{Apéndice}}

% \begin{}

% \begin{}

% Libro: Funciones analíticas %
% Autores: Jorge Antezana     %
% Número de Página: 21        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{Funciones analíticas}
\begin{definition}
  Sea \(U\) un suconjunto abierto de \(\complexNumbers\) y \(f : U \rightarrow \complexNumbers\) una función.
  Se dice que \(f\) es \emph{holomorfa} en \(z_0 \in U\) si existe el límite
  \begin{align}
    \lim_{h \rightarrow 0} \frac{f(z_0 + h) - f(z_0)}{h}
  \end{align}
  En tal caso, al valor del límite lo denotaremos \(f'(z_0)\) y lo denominaremos derivada (compleja) de \(f\) en \(z_0\).
  La función \(f\) se dice holomorfa en \(U\) si lo es para cada punto de \(U\).
  Si \(U = \complexNumbers\) entonces la función se denomina \emph{entera}.
\end{definition}

% Libro: Funciones analíticas %
% Autores: Jorge Antezana     %
% Número de Página: 26        %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ecuaciones de Cauchy--Riemann
\begin{theorem}
  Una función \(f : U \subseteq \realNumbers^2 \rightarrow \realNumbers^2\) dada por  \(f(x, y) = (u(x, y), v(x, y))\), pensada como función de variable compleja es holomorfa en un punto si y sólo si es diferenciable y sus derivadas parciales satisfacen las ecuaciones de Cauchy--Riemann \(u_x = v_y\), \(u_y = - v_x\).
\end{theorem}

% Fuente?

\begin{definition}
  \(f(x, y) = (u(x, y), v(x, y))\)

  \(\laplacian f = \partial_x^2 u + \partial_y^2 v\)
\end{definition}

\begin{theorem}
  Si \(u, v\) satisfacen Cauchy--Riemann, entonces su Laplaciano es nulo.
\end{theorem}

% \end{}

% \begin{}

% Archivo: teorica19.pdf %
% Número de Página: 4    %
%%%%%%%%%%%%%%%%%%%%%%%%%%
% Definición de tiempo de parada
\begin{definition}[Tiempo de parada.]
Sea \((\events_t : t \geq 0)\) una filtración en un espacio \(\Omega\).
Una función \(\tau : \Omega \rightarrow \left[ 0, \infty \right[\) es un tiempo de parada si \([T \leq t] \in \events_t\) para todo \(t \geq 0\).
\end{definition}

% Archivo: teorica20.pdf %
% Número de Página: 1    %
%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{Tiempos de contacto.}

\begin{proposition}
  Sea \(\{X_t : t \geq 0\}\) un proceso estocástico en el espacio métrico \((\metricSpace{}, d)\) adaptado a la filtración \((\events_t : t \geq 0)\) en la \(\sigma\)--álgebra de Borel \(\borel\).
  Supongamos que dicho proceso tiene trayectorias continuas, es decir \(\prob[ (X_t)_{t \geq 0} \in C(\left[0, \infty \right[, \metricSpace{})] = 1\).
  Entonces, para todo \(A\) cerrado, la función \(T_A\) es un tiempo de parada con respecto a \((\events_t : t \geq 0)\).
\end{proposition}

Otra opción es agrandar la filtración \((\events_t : t \geq 0)\).
Definimos, para \(t \geq 0\), \(\eventspp_t = \bigcap_{s > t} \events_s\), \(\events_t \subseteq \eventspp_t\), y consideramos la nueva filtración \((\eventspp_t : t \geq 0)\).
\begin{proposition}
  Sea \(\{X_t : t \geq 0\}\) un proceso \cadlag{} adaptado a \((\eventspp_t : t \geq 0)\).
  Sea \(A \in \borel(\metricSpace{})\) abierto.
  Entonces \(T_A\) es un tiempo de parada con respecto a \((\eventspp_t : t \geq 0)\).
\end{proposition}

% \end{}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 68            %
% Theorem Number: 2.51       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Functions of Brownian Motion
\begin{theorem}
  Sea \(f : \realNumbers^d \rightarrow \realNumbers\) dos veces continuamente derivable, y \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano \(d\)--dimensional.
  Además supongamos que, para todo \(t > 0\) y \(x \in \realNumbers^d\), tenemos \(\Expectation_x \abs{f(\brownian(t))} < \infty\) y \(\Expectation_x \int_0^t \abs{\laplacian f(\brownian(s))} \dd s < \infty\).
  Entonces el proceso definido por
  \begin{align}
    X(t)
    =
    f(\brownian(t)) - \frac{1}{2} \int_0^t \laplacian f(\brownian(s)) \dd s
  \end{align}
  es una martingala.
\end{theorem}
\begin{corollary}
  Supongamos \(f : \realNumbers^d \rightarrow \realNumbers\) satisface \(\laplacian f(x) = 0\) y \(\Expectation_x \abs{f(\brownian(t))} < \infty\), para todo \(x \in \realNumbers^d\) y \(t > 0\).
  Entonces el proceso \(\{f(\brownian(t)) : t \geq 0\}\) es una martingala.
\end{corollary}

% Book: Brownian Motion      %
% Authors: Morters and Peres %
% Page Number: 207           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Itô's Formula
\begin{theorem}[Fórmula de \ito{} Número I]
  Sea \(f : \realNumbers \rightarrow \realNumbers\) dos veces continuamente derivable tal que \(\Expectation \int_0^t f'(\brownian(s))^2 \dd s < \infty\) para algun \(t > 0\).
  Entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s)) - f(\brownian(0))
    =
    \int_0^s f'(\brownian(u)) \dd \brownian(u)
    + \frac{1}{2} \int_0^s f''(\brownian(u)) \dd u
  \end{align}
\end{theorem}
% Esta segunda versión no es necesaria
\begin{theorem}[Fórmula de \ito{} Número II]
  Supongamos \(\{\zeta(s) : s \geq 0\}\) es un proceso continuo creciente adaptado.
  Sea \(f : \realNumbers^2 \rightarrow \realNumbers\) dos veces continuamente derivable en la coordenada \(x\) y una vez continuamente derivable en la coordenada \(y\).
  Asumamos que
  % Esta condición nos dice algo sobre la integrabilidad de un proceso progresivamente medible
  \begin{align}
    \Expectation \int_0^t \left[ \partial_x f(\brownian(s), \zeta(s)) \right]^2 \dd s
    <
    \infty
  \end{align}
  para algún \(t > 0\).
  Entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s), \zeta(s)) - f(\brownian(0), \zeta(0))
    =
    &\int_0^s \partial_x f (\brownian(u), \zeta(u)) \dd \brownian(u)
    \\
    &+ \int_0^s \partial_y f(\brownian(u), \zeta(u)) \dd \zeta(u)
    \\
    &+ \frac{1}{2} \int_0^s \partial_{x x} f(\brownian(u), \zeta(u)) \dd u
  \end{align}
\end{theorem}

Con la misma técnica, obtenemos una versión de la fórmula de \ito para el movimiento Browniano en dimensiones superiores.
La prueba con sus detalles será un ejercicio, ver el Ejercicio 7.4.
Para dar una formulación agradable, introducimos algo de notacón para funciones \(f : \realNumbers^{d + m} \rightarrow \realNumbers\), donde interpretamos el argumento como dos vectores, \(x \in \realNumbers^d\) e \(y \in \realNumbers^m\).
Escribimos \(\partial_j\) para denotar la derivada parcial en la dirección de la coordenada \(j\)--ésima, y
\begin{align}
  &\grad_x f = (\partial_1 f, \dots, \partial_d f)
  &
  &\grad_y f = (\partial_{d + 1} f, \dots, \partial_{d + m} f)
\end{align}
para el vector de derivadas en la dirección de \(x\), respectivamente \(y\).
Para integrales usamos la notación del producto escalar
\begin{align}
  \int_0^t \grad_x f(\brownian(u), \zeta(u)) \cdot \dd \brownian(u)
  &=
  \sum_{i = 1}^d \int_0^t \partial_i f(\brownian(u), \zeta(u)) \dd B_i(u)
  \\
  \int_0^t \grad_y f(\brownian(u), \zeta(u)) \cdot \dd \zeta(u)
  &=
  \sum_{i = 1}^d \int_0^t \partial_{d + i} f(\brownian(u), \zeta(u)) \dd \zeta_i(u)
\end{align}
Finalmente, para el Laplaciano en la variable \(x\) escribimos
\begin{align}
  \laplacian_x f
  =
  \sum_{j = 1}^d \partial_{j j} f
\end{align}
% Tanta complejidad es innecesaria
% Tengo que modificar este teorema 
% para que no incluya la dependencia del proceso creciente
\begin{theorem}[Fórmula de \ito{} multidimensional]
  \label{theorem:ItoFormula_multidimensional}
  Sea \(\{\brownian(t) : t \geq 0\}\) un movimiento Browniano \(d\)--dimensional y supongamos \(\{\zeta(s) : s \geq 0\}\) es un proceso adaptado, continuo con valores en \(\realNumbers^m\) y componentes crecientes.
  Sea \(f : \realNumbers^{d + m} \rightarrow \realNumbers\) tal que las derivadas parciales \(\partial_i f\), \(\partial_{j k}\) existen para todo \(1 \leq j, k \leq d\), \(d + 1 \leq i \leq d + m\) y son continuas.
  Si, para algún \(t > 0\),
  \begin{align}
    \Expectation \int_0^t \abs{\grad_x f(\brownian(s), \zeta(s))}^2 \dd s
    <
    \infty
  \end{align}
  entonces, casi seguramente, para todo \(0 \leq s \leq t\),
  \begin{align}
    f(\brownian(s), \zeta(s)) - f(\brownian(0), \zeta(0))
    =
    &\int_0^s \grad_x f(\brownian(u), \zeta(u)) \cdot \dd \brownian(u)
    \nonumber
    \\
    &+ \int_0^s \grad_y f(\brownian(u), \zeta(u)) \cdot \dd \zeta(u)
    \nonumber
    \\
    &+ \frac{1}{2} \int_0^s \laplacian_x f(\brownian(u), \zeta(u)) \dd u
    \label{equation:ItoFormula_multidimensional}
  \end{align}
  \begin{remark}
    Dado que la fórmula de \ito se verifica casi seguramente de forma simultánea para todo tiempo \(s \in [0, t]\), también es válida para tiempos de parada acotados por \(t\).
    Supongames ahora que \(f : U \rightarrow \realNumbers\) satisface las condiciones de diferenciabilidad en un conjunto abierto \(U\), y \(K \subseteq U\) es compacto.
    Tomamos una función suave \(g : \realNumbers^m \rightarrow [0, 1]\) con soporte compacto dentro de \(U\), tal que \(g \equiv 1\) sobre \(K\).
    Entonces \(f^* = f g : \realNumbers^m \rightarrow \realNumbers\) satisface \(f^* = f\) sobre \(K\) y todas las derivadas relevantes se encuentran acotadas, de modo tal que se satisfacen las condiciones del teorema \ref{theorem:ItoFormula_multidimensional}.
    Sea \(T\) el primer tiempo de salida de \(K\).
    Aplicando el teorema \ref{theorem:ItoFormula_multidimensional} a \(f^*\) arroja \eqref{equation:ItoFormula_multidimensional} para \(f\), casi seguramente, para todo tiempo \(s \wedge T\), para \(s \leq t\).
  \end{remark}
\end{theorem}

% \end{}
\end{document}